window.__require=function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var u=a.split("/");if(u=u[u.length-1],!e[u]){var c="function"==typeof __require&&__require;if(!s&&c)return c(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+a+"'")}}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return r(e[a][1][t]||t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){(function(t,n){"object"==typeof i&&void 0!==e?n(i):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).window=t.window||{})})(this,function(t){"use strict";var e=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,i=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,n=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,r=/(^[#\.][a-z]|[a-y][a-z])/i,o=Math.PI/180,a=180/Math.PI,s=Math.sin,u=Math.cos,c=Math.abs,h=Math.sqrt,l=Math.atan2,p=1e8,f=function(t){return"string"==typeof t},d=function(t){return"number"==typeof t},g=function(t){return void 0===t},y={},m={},v=1e5,_=function(t){return Math.round((t+p)%1*v)/v||(t<0?0:1)},x=function(t){return Math.round(t*v)/v||0},P=function(t,e,i,n){var r=t[e],o=1===n?6:E(r,i,n);if(o&&o+i+2<r.length)return t.splice(e,0,r.slice(0,i+o+2)),r.splice(0,i+o),1},w=function(t,e){var i=t.length;for(e||t.reverse();i--;)t[i].reversed||C(t[i])},b=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):e.totalPoints=t.totalPoints,e},S=function(t,e){var i=t.length,n=t[i-1]||[],r=n.length;e[0]===n[r-2]&&e[1]===n[r-1]&&(e=n.concat(e.slice(2)),i--),t[i]=e};function M(t){var e,i=(t=f(t)&&r.test(t)&&document.querySelector(t)||t).getAttribute?t:0;return i&&(t=t.getAttribute("d"))?(i._gsPath||(i._gsPath={}),(e=i._gsPath[t])&&!e._dirty?e:i._gsPath[t]=j(t)):t?f(t)?j(t):d(t[0])?[t]:t:console.warn("Expecting a <path> element or an SVG path data string")}function T(t){for(var e=[],i=0;i<t.length;i++)e[i]=b(t[i],t[i].slice(0));return b(t,e)}function C(t){var e,i=0;for(t.reverse();i<t.length;i+=2)e=t[i],t[i]=t[i+1],t[i+1]=e;t.reversed=!t.reversed}var A=function(t,e){var i,n=document.createElementNS("http://www.w3.org/2000/svg","path"),r=[].slice.call(t.attributes),o=r.length;for(e=","+e+",";--o>-1;)i=r[o].nodeName.toLowerCase(),e.indexOf(","+i+",")<0&&n.setAttributeNS(null,i,r[o].nodeValue);return n},D={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},k=function(t,e){for(var i=e?e.split(","):[],n={},r=i.length;--r>-1;)n[i[r]]=+t.getAttribute(i[r])||0;return n};function O(t,e){var n,r,o,a,s,u,c,h,l,p,f,d,g,y,m,v,_,x,P,w,b,S,M=t.tagName.toLowerCase(),T=.552284749831;return"path"!==M&&t.getBBox?(u=A(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),S=k(t,D[M]),"rect"===M?(a=S.rx,s=S.ry,r=S.x,o=S.y,p=S.width-2*a,f=S.height-2*s,n=a||s?"M"+(v=(y=(g=r+a)+p)+a)+","+(x=o+s)+" V"+(P=x+f)+" C"+[v,w=P+s*T,m=y+a*T,b=P+s,y,b,y-(y-g)/3,b,g+(y-g)/3,b,g,b,d=r+a*(1-T),b,r,w,r,P,r,P-(P-x)/3,r,x+(P-x)/3,r,x,r,_=o+s*(1-T),d,o,g,o,g+(y-g)/3,o,y-(y-g)/3,o,y,o,m,o,v,_,v,x].join(",")+"z":"M"+(r+p)+","+o+" v"+f+" h"+-p+" v"+-f+" h"+p+"z"):"circle"===M||"ellipse"===M?("circle"===M?h=(a=s=S.r)*T:(a=S.rx,h=(s=S.ry)*T),n="M"+((r=S.cx)+a)+","+(o=S.cy)+" C"+[r+a,o+h,r+(c=a*T),o+s,r,o+s,r-c,o+s,r-a,o+h,r-a,o,r-a,o-h,r-c,o-s,r,o-s,r+c,o-s,r+a,o-h,r+a,o].join(",")+"z"):"line"===M?n="M"+S.x1+","+S.y1+" L"+S.x2+","+S.y2:"polyline"!==M&&"polygon"!==M||(n="M"+(r=(l=(t.getAttribute("points")+"").match(i)||[]).shift())+","+(o=l.shift())+" L"+l.join(","),"polygon"===M&&(n+=","+r+","+o+"z")),u.setAttribute("d",U(u._gsRawPath=j(n))),e&&t.parentNode&&(t.parentNode.insertBefore(u,t),t.parentNode.removeChild(t)),u):t}function N(t,e,i){var n,r=t[e],o=t[e+2],s=t[e+4];return r+=(o-r)*i,r+=((o+=(s-o)*i)-r)*i,n=o+(s+(t[e+6]-s)*i-o)*i-r,r=t[e+1],r+=((o=t[e+3])-r)*i,r+=((o+=((s=t[e+5])-o)*i)-r)*i,x(l(o+(s+(t[e+7]-s)*i-o)*i-r,n)*a)}function B(t,e,i){g(i)&&(i=1);var n=(e=e||0)>i,r=Math.max(0,~~(c(i-e)-1e-8));if(n&&(n=i,i=e,e=n,n=1,r-=r?1:0),e<0||i<0){var o=1+~~Math.min(e,i);e+=o,i+=o}var a,s,u,h,l,p,f,d=T(t.totalLength?t:I(t)),v=i>1,_=R(d,e,y,!0),x=R(d,i,m),b=x.segment,M=_.segment,C=x.segIndex,A=_.segIndex,D=x.i,k=_.i,O=A===C,B=D===k&&O,L=O&&k>D||B&&_.t>x.t;if(v||r){if(P(d,A,k,_.t)&&(a=1,A++,B?L?x.t/=_.t:(x.t=(x.t-_.t)/(1-_.t),C++,D=0):A<=C+1&&!L&&(C++,O&&(D-=k))),x.t?P(d,C,D,x.t)&&(L&&a&&A++,n&&C++):(C--,n&&A--),h=[],p=1+(l=d.length)*r,f=A,n)for(p+=(l-(C=(C||l)-1)+A)%l,u=0;u<p;u++)S(h,d[f]),f=(f||l)-1;else for(p+=(l-A+C)%l,u=0;u<p;u++)S(h,d[f++%l]);d=h}else if(s=1===x.t?6:E(b,D,x.t),e!==i)for(a=E(M,k,B?_.t/x.t:_.t),O&&(s+=a),b.splice(D+s+2),(a||k)&&M.splice(0,k+a),u=d.length;u--;)(u<A||u>C)&&d.splice(u,1);else b.angle=N(b,D+s,0),_=b[D+=s],x=b[D+1],b.length=b.totalLength=0,b.totalPoints=d.totalPoints=8,b.push(_,x,_,x,_,x,_,x);return n&&w(d,v||r),d.totalLength=0,d}function L(t,e,i){e=e||0,t.samples||(t.samples=[],t.lookup=[]);var n,r,o,a,s,u,l,f,d,g,y,m,v,_,x,P,w,b=~~t.resolution||12,S=1/b,M=i?e+6*i+1:t.length,T=t[e],C=t[e+1],A=e?e/6*b:0,D=t.samples,k=t.lookup,O=(e?t.minLength:p)||p,N=D[A+i*b-1],B=e?D[A-1]:0;for(D.length=k.length=0,r=e+2;r<M;r+=6){if(o=t[r+4]-T,a=t[r+2]-T,s=t[r]-T,f=t[r+5]-C,d=t[r+3]-C,g=t[r+1]-C,u=l=y=m=0,c(o)<1e-5&&c(f)<1e-5&&c(s)+c(g)<1e-5)t.length>8&&(t.splice(r,6),r-=6,M-=6);else for(n=1;n<=b;n++)u=l-(l=((_=S*n)*_*o+3*(v=1-_)*(_*a+v*s))*_),y=m-(m=(_*_*f+3*v*(_*d+v*g))*_),(P=h(y*y+u*u))<O&&(O=P),B+=P,D[A++]=B;T+=o,C+=f}if(N)for(N-=B;A<D.length;A++)D[A]+=N;if(D.length&&O)for(t.totalLength=w=D[D.length-1]||0,t.minLength=O,P=x=0,n=0;n<w;n+=O)k[P++]=D[x]<n?++x:x;else t.totalLength=D[0]=0;return e?B-D[e/2-1]:B}function I(t,e){var i,n,r;for(r=i=n=0;r<t.length;r++)t[r].resolution=~~e||12,n+=t[r].length,i+=L(t[r]);return t.totalPoints=n,t.totalLength=i,t}function E(t,e,i){if(i<=0||i>=1)return 0;var n=t[e],r=t[e+1],o=t[e+2],a=t[e+3],s=t[e+4],u=t[e+5],c=n+(o-n)*i,h=o+(s-o)*i,l=r+(a-r)*i,p=a+(u-a)*i,f=c+(h-c)*i,d=l+(p-l)*i,g=s+(t[e+6]-s)*i,y=u+(t[e+7]-u)*i;return h+=(g-h)*i,p+=(y-p)*i,t.splice(e+2,4,x(c),x(l),x(f),x(d),x(f+(h-f)*i),x(d+(p-d)*i),x(h),x(p),x(g),x(y)),t.samples&&t.samples.splice(e/6*t.resolution|0,0,0,0,0,0,0,0),6}function R(t,e,i,n){i=i||{},t.totalLength||I(t),(e<0||e>1)&&(e=_(e));var r,o,a,s,u,c,h,l=0,p=t[0];if(t.length>1){for(a=t.totalLength*e,u=c=0;(u+=t[c++].totalLength)<a;)l=c;e=(a-(s=u-(p=t[l]).totalLength))/(u-s)||0}return r=p.samples,o=p.resolution,a=p.totalLength*e,s=(c=p.lookup[~~(a/p.minLength)]||0)?r[c-1]:0,(u=r[c])<a&&(s=u,u=r[++c]),h=1/o*((a-s)/(u-s)+c%o),c=6*~~(c/o),n&&1===h&&(c+6<p.length?(c+=6,h=0):l+1<t.length&&(c=h=0,p=t[++l])),i.t=h,i.i=c,i.path=t,i.segment=p,i.segIndex=l,i}function F(t,e,i,n){var r,o,a,s,u,c,h,l,p,f=t[0],d=n||{};if((e<0||e>1)&&(e=_(e)),t.length>1){for(a=t.totalLength*e,u=c=0;(u+=t[c++].totalLength)<a;)f=t[c];e=(a-(s=u-f.totalLength))/(u-s)||0}return r=f.samples,o=f.resolution,a=f.totalLength*e,s=(c=f.lookup[~~(a/f.minLength)]||0)?r[c-1]:0,(u=r[c])<a&&(s=u,u=r[++c]),p=1-(h=1/o*((a-s)/(u-s)+c%o)||0),l=f[c=6*~~(c/o)],d.x=x((h*h*(f[c+6]-l)+3*p*(h*(f[c+4]-l)+p*(f[c+2]-l)))*h+l),d.y=x((h*h*(f[c+7]-(l=f[c+1]))+3*p*(h*(f[c+5]-l)+p*(f[c+3]-l)))*h+l),i&&(d.angle=f.totalLength?N(f,c,h>=1?1-1e-9:h||1e-9):f.angle||0),d}function z(t,e,i,n,r,o,a){for(var s,u,c,h,l,p=t.length;--p>-1;)for(u=(s=t[p]).length,c=0;c<u;c+=2)h=s[c],l=s[c+1],s[c]=h*e+l*n+o,s[c+1]=h*i+l*r+a;return t._dirty=1,t}function W(t,e,i,n,r,a,l,p,f){if(t!==p||e!==f){i=c(i),n=c(n);var d=r%360*o,g=u(d),y=s(d),m=Math.PI,v=2*m,_=(t-p)/2,x=(e-f)/2,P=g*_+y*x,w=-y*_+g*x,b=P*P,S=w*w,M=b/(i*i)+S/(n*n);M>1&&(i=h(M)*i,n=h(M)*n);var T=i*i,C=n*n,A=(T*C-T*S-C*b)/(T*S+C*b);A<0&&(A=0);var D=(a===l?-1:1)*h(A),k=D*(i*w/n),O=D*(-n*P/i),N=(t+p)/2+(g*k-y*O),B=(e+f)/2+(y*k+g*O),L=(P-k)/i,I=(w-O)/n,E=(-P-k)/i,R=(-w-O)/n,F=L*L+I*I,z=(I<0?-1:1)*Math.acos(L/h(F)),W=(L*R-I*E<0?-1:1)*Math.acos((L*E+I*R)/h(F*(E*E+R*R)));isNaN(W)&&(W=m),!l&&W>0?W-=v:l&&W<0&&(W+=v),z%=v,W%=v;var j,X=Math.ceil(c(W)/(v/4)),H=[],U=W/X,Y=4/3*s(U/2)/(1+u(U/2)),V=g*i,q=y*i,G=y*-n,J=g*n;for(j=0;j<X;j++)P=u(r=z+j*U),w=s(r),L=u(r+=U),I=s(r),H.push(P-Y*w,w+Y*P,L+Y*I,I-Y*L,L,I);for(j=0;j<H.length;j+=2)P=H[j],w=H[j+1],H[j]=P*V+w*G+N,H[j+1]=P*q+w*J+B;return H[j-2]=p,H[j-1]=f,H}}function j(t){var i,r,o,a,s,u,h,l,p,f,d,g,y,m,v,_=(t+"").replace(n,function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e}).match(e)||[],x=[],P=0,w=0,b=_.length,S=0,M="ERROR: malformed path: "+t,T=function(t,e,i,n){f=(i-t)/3,d=(n-e)/3,h.push(t+f,e+d,i-f,n-d,i,n)};if(!t||!isNaN(_[0])||isNaN(_[1]))return console.log(M),x;for(i=0;i<b;i++)if(y=s,isNaN(_[i])?u=(s=_[i].toUpperCase())!==_[i]:i--,o=+_[i+1],a=+_[i+2],u&&(o+=P,a+=w),i||(l=o,p=a),"M"===s)h&&(h.length<8?x.length-=1:S+=h.length),P=l=o,w=p=a,h=[o,a],x.push(h),i+=2,s="L";else if("C"===s)h||(h=[0,0]),u||(P=w=0),h.push(o,a,P+1*_[i+3],w+1*_[i+4],P+=1*_[i+5],w+=1*_[i+6]),i+=6;else if("S"===s)f=P,d=w,"C"!==y&&"S"!==y||(f+=P-h[h.length-4],d+=w-h[h.length-3]),u||(P=w=0),h.push(f,d,o,a,P+=1*_[i+3],w+=1*_[i+4]),i+=4;else if("Q"===s)f=P+2/3*(o-P),d=w+2/3*(a-w),u||(P=w=0),P+=1*_[i+3],w+=1*_[i+4],h.push(f,d,P+2/3*(o-P),w+2/3*(a-w),P,w),i+=4;else if("T"===s)f=P-h[h.length-4],d=w-h[h.length-3],h.push(P+f,w+d,o+2/3*(P+1.5*f-o),a+2/3*(w+1.5*d-a),P=o,w=a),i+=2;else if("H"===s)T(P,w,P=o,w),i+=1;else if("V"===s)T(P,w,P,w=o+(u?w-P:0)),i+=1;else if("L"===s||"Z"===s)"Z"===s&&(o=l,a=p,h.closed=!0),("L"===s||c(P-o)>.5||c(w-a)>.5)&&(T(P,w,o,a),"L"===s&&(i+=2)),P=o,w=a;else if("A"===s){if(m=_[i+4],v=_[i+5],f=_[i+6],d=_[i+7],r=7,m.length>1&&(m.length<3?(d=f,f=v,r--):(d=v,f=m.substr(2),r-=2),v=m.charAt(1),m=m.charAt(0)),g=W(P,w,+_[i+1],+_[i+2],+_[i+3],+m,+v,(u?P:0)+1*f,(u?w:0)+1*d),i+=r,g)for(r=0;r<g.length;r++)h.push(g[r]);P=h[h.length-2],w=h[h.length-1]}else console.log(M);return(i=h.length)<6?(x.pop(),i=0):h[0]===h[i-2]&&h[1]===h[i-1]&&(h.closed=!0),x.totalPoints=S+i,x}function X(t,e){void 0===e&&(e=1);for(var i=t[0],n=0,r=[i,n],o=2;o<t.length;o+=2)r.push(i,n,t[o],n=(t[o]-i)*e/2,i=t[o],-n);return r}function H(t,e,i){var n,r,o,a,c,p,f,d,g,y,m,v,_,P,w=t.length-2,b=+t[0],S=+t[1],M=+t[2],T=+t[3],C=[b,S,b,S],A=M-b,D=T-S;for(isNaN(i)&&(i=Math.PI/10),e=e||0===e?+e:1,c=2;c<w;c+=2)n=b,r=S,b=M,S=T,M=+t[c+2],T=+t[c+3],v=(p=A)*p+(d=D)*d,_=(A=M-b)*A+(D=T-S)*D,P=(f=M-n)*f+(g=T-r)*g,m=(o=Math.acos((v+_-P)/h(4*v*_)))/Math.PI*e,y=h(v)*m,m*=h(_),b===n&&S===r||(o>i?(a=l(g,f),C.push(x(b-u(a)*y),x(S-s(a)*y),x(b),x(S),x(b+u(a)*m),x(S+s(a)*m))):(a=l(d,p),C.push(x(b-u(a)*y),x(S-s(a)*y)),a=l(D,A),C.push(x(b),x(S),x(b+u(a)*m),x(S+s(a)*m))));return C.push(x(M),x(T),x(M),x(T)),C}function U(t){d(t[0])&&(t=[t]);var e,i,n,r,o="",a=t.length;for(i=0;i<a;i++){for(r=t[i],o+="M"+x(r[0])+","+x(r[1])+" C",e=r.length,n=2;n<e;n++)o+=x(r[n++])+","+x(r[n++])+" "+x(r[n++])+","+x(r[n++])+" "+x(r[n++])+","+x(r[n])+" ";r.closed&&(o+="z")}return o}var Y,V,q,G,J,Z,Q,K,$="transform",tt=$+"Origin",et=function(t){var e=t.ownerDocument||t;!($ in t.style)&&"msTransform"in t.style&&(tt=($="msTransform")+"Origin");for(;e.parentNode&&(e=e.parentNode););if(V=window,Q=new pt,e){Y=e,q=e.documentElement,G=e.body;var i=e.createElement("div"),n=e.createElement("div");G.appendChild(i),i.appendChild(n),i.style.position="static",i.style[$]="translate3d(0,0,1px)",K=n.offsetParent!==i,G.removeChild(i)}return e},it=[],nt=[],rt=function(){return V.pageYOffset||Y.scrollTop||q.scrollTop||G.scrollTop||0},ot=function(){return V.pageXOffset||Y.scrollLeft||q.scrollLeft||G.scrollLeft||0},at=function(t){return t.ownerSVGElement||("svg"===(t.tagName+"").toLowerCase()?t:null)},st=function t(e){return"fixed"===V.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?t(e):void 0)},ut=function t(e,i){if(e.parentNode&&(Y||et(e))){var n=at(e),r=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",o=n?i?"rect":"g":"div",a=2!==i?0:100,s=3===i?100:0,u="position:absolute;display:block;pointer-events:none;",c=Y.createElementNS?Y.createElementNS(r.replace(/^https/,"http"),o):Y.createElement(o);return i&&(n?(Z||(Z=t(e)),c.setAttribute("width",.01),c.setAttribute("height",.01),c.setAttribute("transform","translate("+a+","+s+")"),Z.appendChild(c)):(J||((J=t(e)).style.cssText=u),c.style.cssText=u+"width:0.1px;height:0.1px;top:"+s+"px;left:"+a+"px",J.appendChild(c))),c}throw"Need document and parent."},ct=function(t){for(var e=new pt,i=0;i<t.numberOfItems;i++)e.multiply(t.getItem(i).matrix);return e},ht=function(t,e){var i,n,r,o,a,s=at(t),u=t===s,c=s?it:nt;if(t===V)return t;if(c.length||c.push(ut(t,1),ut(t,2),ut(t,3)),i=s?Z:J,s)r=u?{x:0,y:0}:t.getBBox(),(n=t.transform?t.transform.baseVal:{}).numberOfItems?(o=(n=n.numberOfItems>1?ct(n):n.getItem(0).matrix).a*r.x+n.c*r.y,a=n.b*r.x+n.d*r.y):(n=Q,o=r.x,a=r.y),e&&"g"===t.tagName.toLowerCase()&&(o=a=0),i.setAttribute("transform","matrix("+n.a+","+n.b+","+n.c+","+n.d+","+(n.e+o)+","+(n.f+a)+")"),(u?s:t.parentNode).appendChild(i);else{if(o=a=0,K)for(n=t.offsetParent,r=t;r&&(r=r.parentNode)&&r!==n&&r.parentNode;)(V.getComputedStyle(r)[$]+"").length>4&&(o=r.offsetLeft,a=r.offsetTop,r=0);(r=i.style).top=t.offsetTop-a+"px",r.left=t.offsetLeft-o+"px",n=V.getComputedStyle(t),r[$]=n[$],r[tt]=n[tt],r.border=n.border,r.borderLeftStyle=n.borderLeftStyle,r.borderTopStyle=n.borderTopStyle,r.borderLeftWidth=n.borderLeftWidth,r.borderTopWidth=n.borderTopWidth,r.position="fixed"===n.position?"fixed":"absolute",t.parentNode.appendChild(i)}return i},lt=function(t,e,i,n,r,o,a){return t.a=e,t.b=i,t.c=n,t.d=r,t.e=o,t.f=a,t},pt=function(){function t(t,e,i,n,r,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===o&&(o=0),lt(this,t,e,i,n,r,o)}var e=t.prototype;return e.inverse=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.e,o=this.f,a=t*n-e*i;return lt(this,n/a,-e/a,-i/a,t/a,(i*o-n*r)/a,-(t*o-e*r)/a)},e.multiply=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,o=this.e,a=this.f,s=t.a,u=t.c,c=t.b,h=t.d,l=t.e,p=t.f;return lt(this,s*e+c*n,s*i+c*r,u*e+h*n,u*i+h*r,o+l*e+p*n,a+l*i+p*r)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,o=this.e,a=this.f;return e===t.a&&i===t.b&&n===t.c&&r===t.d&&o===t.e&&a===t.f},e.apply=function(t,e){void 0===e&&(e={});var i=t.x,n=t.y,r=this.a,o=this.b,a=this.c,s=this.d,u=this.e,c=this.f;return e.x=i*r+n*a+u||0,e.y=i*o+n*s+c||0,e},t}();function ft(t,e,i){if(!t||!t.parentNode||(Y||et(t)).documentElement===t)return new pt;var n=at(t)?it:nt,r=ht(t,i),o=n[0].getBoundingClientRect(),a=n[1].getBoundingClientRect(),s=n[2].getBoundingClientRect(),u=r.parentNode,c=st(t),h=new pt((a.left-o.left)/100,(a.top-o.top)/100,(s.left-o.left)/100,(s.top-o.top)/100,o.left+(c?0:ot()),o.top+(c?0:rt()));return u.removeChild(r),e?h.inverse():h}var dt,gt,yt,mt,vt=["x","translateX","left","marginLeft"],_t=["y","translateY","top","marginTop"],xt=Math.PI/180,Pt=function(t,e,i,n){for(var r=e.length,o=n,a=0;a<r;a++)t[o]=parseFloat(e[a][i]),o+=2;return t},wt=function(t,e,i){return parseFloat(t._gsap.get(t,e,i||"px"))||0},bt=function(t){var e,i=t[0],n=t[1];for(e=2;e<t.length;e+=2)i=t[e]+=i,n=t[e+1]+=n},St=function(t,e,i,n,r,o,a){"cubic"===a.type?e=[e]:(e.unshift(wt(i,n,a.unitX),r?wt(i,r,a.unitY):0),a.relative&&bt(e),e=[(r?H:X)(e,a.curviness)]);return e=o(Dt(e,i,a)),kt(t,i,n,e,"x",a.unitX),r&&kt(t,i,r,e,"y",a.unitY),I(e,a.resolution||(0===a.curviness?20:12))},Mt=function(t){return t},Tt=/[-+\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,Ct=function(t,e,i){var n,r,o,a=ft(t);return"svg"===(t.tagName+"").toLowerCase()?(r=(n=t.viewBox.baseVal).x,o=n.y,n.width||(n={width:+t.getAttribute("width"),height:+t.getAttribute("height")})):(n=e&&t.getBBox&&t.getBBox(),r=o=0),e&&"auto"!==e&&(r+=e.push?e[0]*(n?n.width:t.offsetWidth||0):e.x,o+=e.push?e[1]*(n?n.height:t.offsetHeight||0):e.y),i.apply(r||o?a.apply({x:r,y:o}):{x:a.e,y:a.f})},At=function(t,e,i,n){var r,o=ft(t.parentNode,!0,!0),a=o.clone().multiply(ft(e)),s=Ct(t,i,o),u=Ct(e,n,o),c=u.x,h=u.y;return a.e=a.f=0,"auto"===n&&e.getTotalLength&&"path"===e.tagName.toLowerCase()&&(r=e.getAttribute("d").match(Tt)||[],c+=(r=a.apply({x:+r[0],y:+r[1]})).x,h+=r.y),(r||e.getBBox&&t.getBBox)&&(c-=(r=a.apply(e.getBBox())).x,h-=r.y),a.e=c-s.x,a.f=h-s.y,a},Dt=function(t,e,i){var n,r,o,a=i.align,s=i.matrix,u=i.offsetX,c=i.offsetY,h=i.alignOrigin,l=t[0][0],p=t[0][1],f=wt(e,"x"),d=wt(e,"y");return t&&t.length?(a&&("self"===a||(n=mt(a)[0]||e)===e?z(t,1,0,0,1,f-l,d-p):(h&&!1!==h[2]?dt.set(e,{transformOrigin:100*h[0]+"% "+100*h[1]+"%"}):h=[wt(e,"xPercent")/-100,wt(e,"yPercent")/-100],o=(r=At(e,n,h,"auto")).apply({x:l,y:p}),z(t,r.a,r.b,r.c,r.d,f+r.e-(o.x-r.e),d+r.f-(o.y-r.f)))),s?z(t,s.a,s.b,s.c,s.d,s.e,s.f):(u||c)&&z(t,1,0,0,1,u||0,c||0),t):M("M0,0L0,0")},kt=function(t,e,i,n,r,o){var a=e._gsap,s=a.harness,u=s&&s.aliases&&s.aliases[i],c=u&&u.indexOf(",")<0?u:i,h=t._pt=new gt(t._pt,e,c,0,0,Mt,0,a.set(e,c,t));h.u=yt(a.get(e,c,o))||0,h.path=n,h.pp=r,t._props.push(c)},Ot=function(t,e){return function(i){return t||1!==e?B(i,t,e):i}},Nt={version:"3.2.6",name:"motionPath",register:function(t,e,i){yt=(dt=t).utils.getUnit,mt=dt.utils.toArray,gt=i},init:function(t,e){if(!dt)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;"object"==typeof e&&!e.style&&e.path||(e={path:e});var i,n,r,o,a=[],s=e.path,u=s[0],c=e.autoRotate,h=Ot(e.start,"end"in e?e.end:1);if(this.rawPaths=a,this.target=t,(this.rotate=c||0===c)&&(this.rOffset=parseFloat(c)||0,this.radians=!!e.useRadians,this.rProp=e.rotation||"rotation",this.rSet=t._gsap.set(t,this.rProp,this),this.ru=yt(t._gsap.get(t,this.rProp))||0),!Array.isArray(s)||"closed"in s||"number"==typeof u)I(i=h(Dt(M(e.path),t,e)),e.resolution),a.push(i),kt(this,t,e.x||"x",i,"x",e.unitX||"px"),kt(this,t,e.y||"y",i,"y",e.unitY||"px");else{for(n in u)~vt.indexOf(n)?r=n:~_t.indexOf(n)&&(o=n);r&&o?a.push(St(this,Pt(Pt([],s,r,0),s,o,1),t,e.x||r,e.y||o,h,e)):r=o=0;for(n in u)n!==r&&n!==o&&a.push(St(this,Pt([],s,n,0),t,n,0,h,e))}},render:function(t,e){var i=e.rawPaths,n=i.length,r=e._pt;for(t>1?t=1:t<0&&(t=0);n--;)F(i[n],t,!n&&e.rotate,i[n]);for(;r;)r.set(r.t,r.p,r.path[r.pp]+r.u,r.d,t),r=r._next;e.rotate&&e.rSet(e.target,e.rProp,i[0].angle*(e.radians?xt:1)+e.rOffset+e.ru,e,t)},getLength:function(t){return I(M(t)).totalLength},sliceRawPath:B,getRawPath:M,pointsToSegment:H,stringToRawPath:j,rawPathToString:U,transformRawPath:z,getGlobalMatrix:ft,getPositionOnPath:F,cacheRawPathMeasurements:I,convertToPath:function(t,e){return mt(t).map(function(t){return O(t,!1!==e)})},convertCoordinates:function(t,e,i){var n=ft(e,!0,!0).multiply(ft(t));return i?n.apply(i):n},getAlignMatrix:At,getRelativePosition:function(t,e,i,n){var r=At(t,e,i,n);return{x:r.e,y:r.f}},arrayToRawPath:function(t,e){var i=Pt(Pt([],t,(e=e||{}).x||"x",0),t,e.y||"y",1);return e.relative&&bt(i),["cubic"===e.type?i:H(i,e.curviness)]}};(dt||"undefined"!=typeof window&&(dt=window.gsap)&&dt.registerPlugin&&dt)&&dt.registerPlugin(Nt),t.MotionPathPlugin=Nt,t.default=Nt,Object.defineProperty(t,"__esModule",{value:!0})})},{}],2:[function(t,e,i){(function(t,n){"object"==typeof i&&void 0!==e?n(i):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).window=t.window||{})})(this,function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var n,r,o,a,s,u,c,h,l={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},p={duration:.5,overwrite:!1,delay:0},f=1e8,d=1e-8,g=2*Math.PI,y=g/4,m=0,v=Math.sqrt,_=Math.cos,x=Math.sin,P=function(t){return"string"==typeof t},w=function(t){return"function"==typeof t},b=function(t){return"number"==typeof t},S=function(t){return void 0===t},M=function(t){return"object"==typeof t},T=function(t){return!1!==t},C=function(){return"undefined"!=typeof window},A=function(t){return w(t)||P(t)},D=Array.isArray,k=/(?:-?\.?\d|\.)+/gi,O=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,N=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,B=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,L=/\(([^()]+)\)/i,I=/[+-]=-?[\.\d]+/,E=/[#\-+.]*\b[a-z\d-=+%.]+/gi,R={},F={},z=function(t){return(F=lt(t,R))&&ti},W=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},j=function(t,e){return!e&&console.warn(t)},X=function(t,e){return t&&(R[t]=e)&&F&&(F[t]=e)||R},H=function(){return 0},U={},Y=[],V={},q={},G={},J=30,Z=[],Q="",K=function(t){var e,i,n=t[0];if(M(n)||w(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=Z.length;i--&&!Z[i].targetTest(n););e=Z[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new we(t[i],e)))||t.splice(i,1);return t},$=function(t){return t._gsap||K(jt(t))[0]._gsap},tt=function(t,e){var i=t[e];return w(i)?t[e]():S(i)&&t.getAttribute(e)||i},et=function(t,e){return(t=t.split(",")).forEach(e)||t},it=function(t){return Math.round(1e5*t)/1e5||0},nt=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},rt=function(t,e,i){var n,r=b(t[1]),o=(r?2:1)+(e<2?0:1),a=t[o];if(r&&(a.duration=t[1]),a.parent=i,e){for(n=a;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=T(i.vars.inherit)&&i.parent;a.immediateRender=T(n.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return a},ot=function(){var t,e,i=Y.length,n=Y.slice(0);for(V={},Y.length=0,t=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},at=function(t,e,i,n){Y.length&&ot(),t.render(e,i,n),Y.length&&ot()},st=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(E).length<2?e:t},ut=function(t){return t},ct=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},ht=function(t,e){for(var i in e)i in t||"duration"===i||"ease"===i||(t[i]=e[i])},lt=function(t,e){for(var i in e)t[i]=e[i];return t},pt=function t(e,i){for(var n in i)e[n]=M(i[n])?t(e[n]||(e[n]={}),i[n]):i[n];return e},ft=function(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n},dt=function(t){var e=t.parent||n,i=t.keyframes?ht:ct;if(T(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent;return t},gt=function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0},yt=function(t,e,i,n,r){void 0===i&&(i="_first"),void 0===n&&(n="_last");var o,a=t[n];if(r)for(o=e[r];a&&a[r]>o;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=a,e.parent=e._dp=t,e},mt=function(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=e._prev,o=e._next;r?r._next=o:t[i]===e&&(t[i]=o),o?o._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null},vt=function(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0},_t=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},xt=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Pt=function t(e){return!e||e._ts&&t(e.parent)},wt=function(t){return t._repeat?bt(t._tTime,t=t.duration()+t._rDelay)*t:0},bt=function(t,e){return(t/=e)&&~~t===t?~~t-1:~~t},St=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Mt=function(t){return t._end=it(t._start+(t._tDur/Math.abs(t._ts||t._rts||d)||0))},Tt=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=St(t.rawTime(),e),(!e._dur||Et(0,e.totalDuration(),i)-e._tTime>d)&&e.render(i,!0)),_t(t)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-d}},Ct=function(t,e,i,n){return e.parent&&vt(e),e._start=it(i+e._delay),e._end=it(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),yt(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,n||Tt(t,e),t},At=function(t,e,i,n){return ke(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&u!==ce.frame?(Y.push(t),t._lazy=[e,n],1):void 0:1},Dt=function(t,e,i,n){var r,o=t._zTime<0?0:1,a=e<0?0:1,s=t._rDelay,u=0;if(s&&t._repeat&&(u=Et(0,t._tDur,e),bt(u,s)!==bt(t._tTime,s)&&(o=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),(t._initted||!At(t,e,n,i))&&(a!==o||n||t._zTime===d||!e&&t._zTime)){for(t._zTime=e||(i?d:0),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=u,i||Qt(t,"onStart"),r=t._pt;r;)r.r(a,r.d),r=r._next;!a&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,n),t._onUpdate&&(i||Qt(t,"onUpdate")),u&&t._repeat&&!i&&t.parent&&Qt(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(t.ratio&&vt(t,1),i||(Qt(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}},kt=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if(!n._dur&&"isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if(!n._dur&&"isPause"===n.data&&n._start<e)return n;n=n._prev}},Ot=function(t,e,i){var n=t._repeat,r=it(e)||0;return t._dur=r,t._tDur=n?n<0?1e12:it(r*(n+1)+t._rDelay*n):r,t._time>r&&(t._time=r,t._tTime=Math.min(t._tTime,t._tDur)),!i&&_t(t.parent),t.parent&&Mt(t),t},Nt=function(t){return t instanceof Se?_t(t):Ot(t,t._dur)},Bt={_start:0,endTime:H},Lt=function t(e,i){var n,r,o=e.labels,a=e._recent||Bt,s=e.duration()>=f?a.endTime(!1):e._dur;return P(i)&&(isNaN(i)||i in o)?"<"===(n=i.charAt(0))||">"===n?("<"===n?a._start:a.endTime(a._repeat>=0))+(parseFloat(i.substr(1))||0):(n=i.indexOf("="))<0?(i in o||(o[i]=s),o[i]):(r=+(i.charAt(n-1)+i.substr(n+1)),n>1?t(e,i.substr(0,n-1))+r:s+r):null==i?s:+i},It=function(t,e){return t||0===t?e(t):e},Et=function(t,e,i){return i<t?t:i>e?e:i},Rt=function(t){return(t+"").substr((parseFloat(t)+"").length)},Ft=[].slice,zt=function(t,e){return t&&M(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&M(t[0]))&&!t.nodeType&&t!==r},Wt=function(t,e,i){return void 0===i&&(i=[]),t.forEach(function(t){var n;return P(t)&&!e||zt(t,1)?(n=i).push.apply(n,jt(t)):i.push(t)})||i},jt=function(t,e){return!P(t)||e||!o&&he()?D(t)?Wt(t,e):zt(t)?Ft.call(t,0):t?[t]:[]:Ft.call(a.querySelectorAll(t),0)},Xt=function(t){return t.sort(function(){return.5-Math.random()})},Ht=function(t){if(w(t))return t;var e=M(t)?t:{each:t},i=me(e.ease),n=e.from||0,r=parseFloat(e.base)||0,o={},a=n>0&&n<1,s=isNaN(n)||a,u=e.axis,c=n,h=n;return P(n)?c=h={center:.5,edges:.5,end:1}[n]||0:!a&&s&&(c=n[0],h=n[1]),function(t,a,l){var p,d,g,y,m,_,x,P,w,b=(l||e).length,S=o[b];if(!S){if(!(w="auto"===e.grid?0:(e.grid||[1,f])[1])){for(x=-f;x<(x=l[w++].getBoundingClientRect().left)&&w<b;);w--}for(S=o[b]=[],p=s?Math.min(w,b)*c-.5:n%w,d=s?b*h/w-.5:n/w|0,x=0,P=f,_=0;_<b;_++)g=_%w-p,y=d-(_/w|0),S[_]=m=u?Math.abs("y"===u?y:g):v(g*g+y*y),m>x&&(x=m),m<P&&(P=m);"random"===n&&Xt(S),S.max=x-P,S.min=P,S.v=b=(parseFloat(e.amount)||parseFloat(e.each)*(w>b?b-1:u?"y"===u?b/w:w:Math.max(w,b/w))||0)*("edges"===n?-1:1),S.b=b<0?r-b:r,S.u=Rt(e.amount||e.each)||0,i=i&&b<0?ye(i):i}return b=(S[t]-S.min)/S.max||0,it(S.b+(i?i(b):b)*S.v)+S.u}},Ut=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(i){return~~(Math.round(parseFloat(i)/t)*t*e)/e+(b(i)?0:Rt(i))}},Yt=function(t,e){var i,n,r=D(t);return!r&&M(t)&&(i=r=t.radius||f,t.values?(t=jt(t.values),(n=!b(t[0]))&&(i*=i)):t=Ut(t.increment)),It(e,r?w(t)?function(e){return n=t(e),Math.abs(n-e)<=i?n:e}:function(e){for(var r,o,a=parseFloat(n?e.x:e),s=parseFloat(n?e.y:0),u=f,c=0,h=t.length;h--;)(r=n?(r=t[h].x-a)*r+(o=t[h].y-s)*o:Math.abs(t[h]-a))<u&&(u=r,c=h);return c=!i||u<=i?t[c]:e,n||c===e||b(e)?c:c+Rt(e)}:Ut(t))},Vt=function(t,e,i,n){return It(D(t)?!e:!0===i?!!(i=0):!n,function(){return D(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/i)*i*n)/n})},qt=function(t,e,i){return It(i,function(i){return t[~~e(i)]})},Gt=function(t){for(var e,i,n,r,o=0,a="";~(e=t.indexOf("random(",o));)n=t.indexOf(")",e),r="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(r?E:k),a+=t.substr(o,e-o)+Vt(r?i:+i[0],+i[1],+i[2]||1e-5),o=n+1;return a+t.substr(o,t.length-o)},Jt=function(t,e,i,n,r){var o=e-t,a=n-i;return It(r,function(e){return i+(e-t)/o*a})},Zt=function(t,e,i){var n,r,o,a=t.labels,s=f;for(n in a)(r=a[n]-e)<0==!!i&&r&&s>(r=Math.abs(r))&&(o=n,s=r);return o},Qt=function(t,e,i){var n,r,o=t.vars,a=o[e];if(a)return n=o[e+"Params"],r=o.callbackScope||t,i&&Y.length&&ot(),n?a.apply(r,n):a.call(r)},Kt=function(t){return vt(t),t.progress()<1&&Qt(t,"onInterrupt"),t},$t=function(t){var e=(t=!t.name&&t.default||t).name,i=w(t),n=e&&!i&&t.init?function(){this._props=[]}:t,r={init:H,render:Ue,add:Ce,kill:Ve,modifier:Ye,rawVars:0},o={targetTest:0,get:0,getSetter:We,aliases:{},register:0};if(he(),t!==n){if(q[e])return;ct(n,ct(ft(t,r),o)),lt(n.prototype,lt(r,ft(t,o))),q[n.prop=e]=n,t.targetTest&&(Z.push(n),U[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}X(e,n),t.register&&t.register(ti,n,Je)},te=255,ee={aqua:[0,te,te],lime:[0,te,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,te],navy:[0,0,128],white:[te,te,te],olive:[128,128,0],yellow:[te,te,0],orange:[te,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[te,0,0],pink:[te,192,203],cyan:[0,te,te],transparent:[te,te,te,0]},ie=function(t,e,i){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*te+.5|0},ne=function(t,e,i){var n,r,o,a,s,u,c,h,l,p,f=t?b(t)?[t>>16,t>>8&te,t&te]:0:ee.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),ee[t])f=ee[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(r=t.charAt(2))+r+(o=t.charAt(3))+o),f=[(t=parseInt(t.substr(1),16))>>16,t>>8&te,t&te];else if("hsl"===t.substr(0,3))if(f=p=t.match(k),e){if(~t.indexOf("="))return f=t.match(O),i&&f.length<4&&(f[3]=1),f}else a=+f[0]%360/360,s=+f[1]/100,n=2*(u=+f[2]/100)-(r=u<=.5?u*(s+1):u+s-u*s),f.length>3&&(f[3]*=1),f[0]=ie(a+1/3,n,r),f[1]=ie(a,n,r),f[2]=ie(a-1/3,n,r);else f=t.match(k)||ee.transparent;f=f.map(Number)}return e&&!p&&(n=f[0]/te,r=f[1]/te,o=f[2]/te,u=((c=Math.max(n,r,o))+(h=Math.min(n,r,o)))/2,c===h?a=s=0:(l=c-h,s=u>.5?l/(2-c-h):l/(c+h),a=c===n?(r-o)/l+(r<o?6:0):c===r?(o-n)/l+2:(n-r)/l+4,a*=60),f[0]=~~(a+.5),f[1]=~~(100*s+.5),f[2]=~~(100*u+.5)),i&&f.length<4&&(f[3]=1),f},re=function(t){var e=[],i=[],n=-1;return t.split(ae).forEach(function(t){var r=t.match(N)||[];e.push.apply(e,r),i.push(n+=r.length+1)}),e.c=i,e},oe=function(t,e,i){var n,r,o,a,s="",u=(t+s).match(ae),c=e?"hsla(":"rgba(",h=0;if(!u)return t;if(u=u.map(function(t){return(t=ne(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),i&&(o=re(t),(n=i.c).join(s)!==o.c.join(s)))for(a=(r=t.replace(ae,"1").split(N)).length-1;h<a;h++)s+=r[h]+(~n.indexOf(h)?u.shift()||c+"0,0,0,0)":(o.length?o:u.length?u:i).shift());if(!r)for(a=(r=t.split(ae)).length-1;h<a;h++)s+=r[h]+u[h];return s+r[a]},ae=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in ee)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),se=/hsl[a]?\(/,ue=function(t){var e,i=t.join(" ");if(ae.lastIndex=0,ae.test(i))return e=se.test(i),t[1]=oe(t[1],e),t[0]=oe(t[0],e,re(t[1])),!0},ce=function(){var t,e,i,n,u=Date.now,c=500,l=33,p=u(),f=p,g=1/240,y=g,m=[],v=function i(r){var o,a,s=u()-f,h=!0===r;s>c&&(p+=s-l),f+=s,n.time=(f-p)/1e3,((o=n.time-y)>0||h)&&(n.frame++,y+=o+(o>=g?.004:g-o),a=1),h||(t=e(i)),a&&m.forEach(function(t){return t(n.time,s,n.frame,r)})};return n={time:0,frame:0,tick:function(){v(!0)},wake:function(){s&&(!o&&C()&&(r=o=window,a=r.document||{},R.gsap=ti,(r.gsapVersions||(r.gsapVersions=[])).push(ti.version),z(F||r.GreenSockGlobals||!r.gsap&&r||{}),i=r.requestAnimationFrame),t&&n.sleep(),e=i||function(t){return setTimeout(t,1e3*(y-n.time)+1|0)},h=1,v(2))},sleep:function(){(i?r.cancelAnimationFrame:clearTimeout)(t),h=0,e=H},lagSmoothing:function(t,e){c=t||1/d,l=Math.min(e,c,0)},fps:function(t){g=1/(t||240),y=n.time+g},add:function(t){m.indexOf(t)<0&&m.push(t),he()},remove:function(t){var e;~(e=m.indexOf(t))&&m.splice(e,1)},_listeners:m}}(),he=function(){return!h&&ce.wake()},le={},pe=/^[\d.\-M][\d.\-,\s]/,fe=/["']/g,de=function(t){for(var e,i,n,r={},o=t.substr(1,t.length-3).split(":"),a=o[0],s=1,u=o.length;s<u;s++)i=o[s],e=s!==u-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),r[a]=isNaN(n)?n.replace(fe,"").trim():+n,a=i.substr(e+1).trim();return r},ge=function(t){var e=(t+"").split("("),i=le[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[de(e[1])]:L.exec(t)[1].split(",").map(st)):le._CE&&pe.test(t)?le._CE("",t):i},ye=function(t){return function(e){return 1-t(1-e)}},me=function(t,e){return t&&(w(t)?t:le[t]||ge(t))||e},ve=function(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,o={easeIn:e,easeOut:i,easeInOut:n};return et(t,function(t){le[t]=R[t]=o,le[r=t.toLowerCase()]=i;for(var e in o)le[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=le[t+"."+e]=o[e]}),o},_e=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},xe=function t(e,i,n){var r=i>=1?i:1,o=(n||(e?.3:.45))/(i<1?i:1),a=o/g*(Math.asin(1/r)||0),s=function(t){return 1===t?1:r*Math.pow(2,-10*t)*x((t-a)*o)+1},u="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:_e(s);return o=g/o,u.config=function(i,n){return t(e,i,n)},u},Pe=function t(e,i){void 0===i&&(i=1.70158);var n=function(t){return t?--t*t*((i+1)*t+i)+1:0},r="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:_e(n);return r.config=function(i){return t(e,i)},r};et("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var i=e<5?e+1:e;ve(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},function(t){return 1-Math.pow(1-t,i)},function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2})}),le.Linear.easeNone=le.none=le.Linear.easeIn,ve("Elastic",xe("in"),xe("out"),xe()),function(t,e){var i=1/2.75,n=function(e){return e<i?t*e*e:e<.7272727272727273?t*Math.pow(e-1.5/2.75,2)+.75:e<.9090909090909092?t*(e-=2.25/2.75)*e+.9375:t*Math.pow(e-2.625/2.75,2)+.984375};ve("Bounce",function(t){return 1-n(1-t)},n)}(7.5625),ve("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),ve("Circ",function(t){return-(v(1-t*t)-1)}),ve("Sine",function(t){return 1-_(t*y)}),ve("Back",Pe("in"),Pe("out"),Pe()),le.SteppedEase=le.steps=R.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),r=e?1:0,o=1-d;return function(t){return((n*Et(0,o,t)|0)+r)*i}}},p.ease=le["quad.out"],et("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Q+=t+","+t+"Params,"});var we=function(t,e){this.id=m++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:tt,this.set=e?e.getSetter:We},be=function(){function t(t,e){var i=t.parent||n;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ot(this,+t.duration,1),this.data=t.data,h||ce.wake(),i&&Ct(i,this,e||0===e?e:i._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Ot(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(he(),!arguments.length)return this._tTime;var i=this.parent||this._dp;if(i&&i.smoothChildTiming&&this._ts){for(this._start=it(i._time-(this._ts>0?t/this._ts:((this._dirty?this.totalDuration():this._tDur)-t)/-this._ts)),Mt(this),i._dirty||_t(i);i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&Ct(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===d)&&(this._ts||(this._pTime=t),at(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+wt(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+wt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?bt(this._tTime,i)+1:1},e.timeScale=function(t){if(!arguments.length)return this._rts===-d?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?St(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-d?0:this._rts,xt(this.totalTime(Et(0,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(he(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=d)&&Math.abs(this._zTime)!==d))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Ct(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(T(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?St(e.rawTime(t),this):this._tTime:this._tTime},e.repeat=function(t){return arguments.length?(this._repeat=t,Nt(this)):this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Nt(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Lt(this,t),T(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,T(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-d:0)),this):this._rts<0},e.invalidate=function(){return this._initted=0,this._zTime=-d,this},e.isActive=function(t){var e,i=this.parent||this._dp,n=this._start;return!(i&&!(this._ts&&(this._initted||!t)&&i.isActive(t)&&(e=i.rawTime(!0))>=n&&e<this.endTime(!0)-d))},e.eventCallback=function(t,e,i){var n=this.vars;return arguments.length>1?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise(function(i){var n=w(t)?t:ut,r=function(){var t=e.then;e.then=null,w(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),i(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r})},e.kill=function(){Kt(this)},t}();ct(be.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-d,_prom:0,_ps:!1,_rts:1});var Se=function(t){function r(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e,n)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=T(e.sortChildren),r.parent&&Tt(r.parent,i(r)),r}e(r,t);var o=r.prototype;return o.to=function(t,e,i){return new Ie(t,rt(arguments,0,this),Lt(this,b(e)?arguments[3]:i)),this},o.from=function(t,e,i){return new Ie(t,rt(arguments,1,this),Lt(this,b(e)?arguments[3]:i)),this},o.fromTo=function(t,e,i,n){return new Ie(t,rt(arguments,2,this),Lt(this,b(e)?arguments[4]:n)),this},o.set=function(t,e,i){return e.duration=0,e.parent=this,dt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Ie(t,e,Lt(this,i),1),this},o.call=function(t,e,i){return Ct(this,Ie.delayedCall(0,t,e),Lt(this,i))},o.staggerTo=function(t,e,i,n,r,o,a){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=o,i.onCompleteParams=a,i.parent=this,new Ie(t,i,Lt(this,r)),this},o.staggerFrom=function(t,e,i,n,r,o,a){return i.runBackwards=1,dt(i).immediateRender=T(i.immediateRender),this.staggerTo(t,e,i,n,r,o,a)},o.staggerFromTo=function(t,e,i,n,r,o,a,s){return n.startAt=i,dt(n).immediateRender=T(n.immediateRender),this.staggerTo(t,e,n,r,o,a,s)},o.render=function(t,e,i){var r,o,a,s,u,c,h,l,p,f,g,y,m=this._time,v=this._dirty?this.totalDuration():this._tDur,_=this._dur,x=this!==n&&t>v-d&&t>=0?v:t<d?0:t,P=this._zTime<0!=t<0&&(this._initted||!_);if(x!==this._tTime||i||P){if(m!==this._time&&_&&(x+=this._time-m,t+=this._time-m),r=x,p=this._start,c=!(l=this._ts),P&&(_||(m=this._zTime),!t&&e||(this._zTime=t)),this._repeat&&(g=this._yoyo,u=_+this._rDelay,((r=it(x%u))>_||v===x)&&(r=_),(s=~~(x/u))&&s===x/u&&(r=_,s--),f=bt(this._tTime,u),g&&1&s&&(r=_-r,y=1),s!==f&&!this._lock)){var w=g&&1&f,b=w===(g&&1&s);if(s<f&&(w=!w),m=w?0:_,this._lock=1,this.render(m,e,!_)._lock=0,!e&&this.parent&&Qt(this,"onRepeat"),this.vars.repeatRefresh&&!y&&(this.invalidate()._lock=1),m!==this._time||c!==!this._ts)return this;if(b&&(this._lock=2,m=w?_+1e-4:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!y&&this.invalidate()),this._lock=0,!this._ts&&!c)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=kt(this,it(m),it(r)))&&(x-=r-(r=h._start)),this._tTime=x,this._time=r,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t),m||!r||e||Qt(this,"onStart"),r>=m&&t>=0)for(o=this._first;o;){if(a=o._next,(o._act||r>=o._start)&&o._ts&&h!==o){if(o.parent!==this)return this.render(t,e,i);if(o.render(o._ts>0?(r-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(r-o._start)*o._ts,e,i),r!==this._time||!this._ts&&!c){h=0,a&&(x+=this._zTime=-d);break}}o=a}else{o=this._last;for(var S=t<0?t:r;o;){if(a=o._prev,(o._act||S<=o._end)&&o._ts&&h!==o){if(o.parent!==this)return this.render(t,e,i);if(o.render(o._ts>0?(S-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(S-o._start)*o._ts,e,i),r!==this._time||!this._ts&&!c){h=0,a&&(x+=this._zTime=S?-d:d);break}}o=a}}if(h&&!e&&(this.pause(),h.render(r>=m?0:-d)._zTime=r>=m?1:-1,this._ts))return this._start=p,Mt(this),this.render(t,e,i);this._onUpdate&&!e&&Qt(this,"onUpdate",!0),(x===v&&v>=this.totalDuration()||!x&&this._ts<0)&&(p!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||((t||!_)&&(t&&this._ts>0||!x&&this._ts<0)&&vt(this,1),e||t<0&&!m||(Qt(this,x===v?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},o.add=function(t,e){var i=this;if(b(e)||(e=Lt(this,e)),!(t instanceof be)){if(D(t))return t.forEach(function(t){return i.add(t,e)}),_t(this);if(P(t))return this.addLabel(t,e);if(!w(t))return this;t=Ie.delayedCall(0,t)}return this!==t?Ct(this,t,e):this},o.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-f);for(var r=[],o=this._first;o;)o._start>=n&&(o instanceof Ie?e&&r.push(o):(i&&r.push(o),t&&r.push.apply(r,o.getChildren(!0,e,i)))),o=o._next;return r},o.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},o.remove=function(t){return P(t)?this.removeLabel(t):w(t)?this.killTweensOf(t):(mt(this,t),t===this._recent&&(this._recent=this._last),_t(this))},o.totalTime=function(e,i){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=it(ce.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},o.addLabel=function(t,e){return this.labels[t]=Lt(this,e),this},o.removeLabel=function(t){return delete this.labels[t],this},o.addPause=function(t,e,i){var n=Ie.delayedCall(0,e||H,i);return n.data="isPause",this._hasPause=1,Ct(this,n,Lt(this,t))},o.removePause=function(t){var e=this._first;for(t=Lt(this,t);e;)e._start===t&&"isPause"===e.data&&vt(e),e=e._next},o.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),r=n.length;r--;)Me!==n[r]&&n[r].kill(t,e);return this},o.getTweensOf=function(t,e){for(var i,n=[],r=jt(t),o=this._first;o;)o instanceof Ie?!nt(o._targets,r)||e&&!o.isActive("started"===e)||n.push(o):(i=o.getTweensOf(r,e)).length&&n.push.apply(n,i),o=o._next;return n},o.tweenTo=function(t,e){e=e||{};var i=this,n=Lt(i,t),r=e,o=r.startAt,a=r.onStart,s=r.onStartParams,u=Ie.to(i,ct(e,{ease:"none",lazy:!1,time:n,duration:e.duration||Math.abs((n-(o&&"time"in o?o.time:i._time))/i.timeScale())||d,onStart:function(){i.pause();var t=e.duration||Math.abs((n-i._time)/i.timeScale());u._dur!==t&&Ot(u,t).render(u._time,!0,!0),a&&a.apply(u,s||[])}}));return u},o.tweenFromTo=function(t,e,i){return this.tweenTo(e,ct({startAt:{time:Lt(this,t)}},i))},o.recent=function(){return this._recent},o.nextLabel=function(t){return void 0===t&&(t=this._time),Zt(this,Lt(this,t))},o.previousLabel=function(t){return void 0===t&&(t=this._time),Zt(this,Lt(this,t),1)},o.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+d)},o.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,r=this._first,o=this.labels;r;)r._start>=i&&(r._start+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return _t(this)},o.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},o.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._time=this._tTime=0,t&&(this.labels={}),_t(this)},o.totalDuration=function(t){var e,i,r,o,a=0,s=this,u=s._last,c=f;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(o=s.parent;u;)e=u._prev,u._dirty&&u.totalDuration(),(r=u._start)>c&&s._sort&&u._ts&&!s._lock?(s._lock=1,Ct(s,u,r-u._delay,1)._lock=0):c=r,r<0&&u._ts&&(a-=r,(!o&&!s._dp||o&&o.smoothChildTiming)&&(s._start+=r/s._ts,s._time-=r,s._tTime-=r),s.shiftChildren(-r,!1,-1e20),c=0),(i=Mt(u))>a&&u._ts&&(a=i),u=e;Ot(s,s===n&&s._time>a?s._time:Math.min(f,a),1),s._dirty=0}return s._tDur},r.updateRoot=function(t){if(n._ts&&(at(n,St(t,n)),u=ce.frame),ce.frame>=J){J+=l.autoSleep||120;var e=n._first;if((!e||!e._ts)&&l.autoSleep&&ce._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||ce.sleep()}}},r}(be);ct(Se.prototype,{_lock:0,_hasPause:0,_forcing:0});var Me,Te=function(t,e,i,n,r,o,a){var s,u,c,h,l,p,f,d,g=new Je(this._pt,t,e,0,1,He,null,r),y=0,m=0;for(g.b=i,g.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=Gt(n)),o&&(o(d=[i,n],t,e),i=d[0],n=d[1]),u=i.match(B)||[];s=B.exec(n);)h=s[0],l=n.substring(y,s.index),c?c=(c+1)%5:"rgba("===l.substr(-5)&&(c=1),h!==u[m++]&&(p=parseFloat(u[m-1])||0,g._pt={_next:g._pt,p:l||1===m?l:",",s:p,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-p,m:c&&c<4?Math.round:0},y=B.lastIndex);return g.c=y<n.length?n.substring(y,n.length):"",g.fp=a,(I.test(n)||f)&&(g.e=0),this._pt=g,g},Ce=function(t,e,i,n,r,o,a,s,u){w(n)&&(n=n(r||0,t,o));var c,h=t[e],p="get"!==i?i:w(h)?u?t[e.indexOf("set")||!w(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():h,f=w(h)?u?Fe:Re:Ee;if(P(n)&&(~n.indexOf("random(")&&(n=Gt(n)),"="===n.charAt(1)&&(n=parseFloat(p)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(Rt(p)||0))),p!==n)return isNaN(p+n)?(!h&&!(e in t)&&W(e,n),Te.call(this,t,e,p,n,f,s||l.stringFilter,u)):(c=new Je(this._pt,t,e,+p||0,n-(p||0),"boolean"==typeof h?Xe:je,0,f),u&&(c.fp=u),a&&c.modifier(a,this,t),this._pt=c)},Ae=function(t,e,i,n,r){if(w(t)&&(t=Ne(t,r,e,i,n)),!M(t)||t.style&&t.nodeType||D(t))return P(t)?Ne(t,r,e,i,n):t;var o,a={};for(o in t)a[o]=Ne(t[o],r,e,i,n);return a},De=function(t,e,i,n,r,o){var a,s,u,h;if(q[t]&&!1!==(a=new q[t]).init(r,a.rawVars?e[t]:Ae(e[t],n,r,o,i),i,n,o)&&(i._pt=s=new Je(i._pt,r,t,0,1,a.render,a,0,a.priority),i!==c))for(u=i._ptLookup[i._targets.indexOf(r)],h=a._props.length;h--;)u[a._props[h]]=s;return a},ke=function t(e,i){var r,o,a,s,u,c,h,l,f,g,y,m,v=e.vars,_=v.ease,x=v.startAt,P=v.immediateRender,w=v.lazy,b=v.onUpdate,S=v.onUpdateParams,M=v.callbackScope,C=v.runBackwards,A=v.yoyoEase,D=v.keyframes,k=v.autoRevert,O=e._dur,N=e._startAt,B=e._targets,L=e.parent,I=L&&"nested"===L.data?L.parent._targets:B,E="auto"===e._overwrite,R=e.timeline;if(!R||D&&_||(_="none"),e._ease=me(_,p.ease),e._yEase=A?ye(me(!0===A?_:A,p.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),!R){if(N&&N.render(-1,!0).kill(),x){if(vt(e._startAt=Ie.set(B,ct({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:T(w),startAt:null,delay:0,onUpdate:b,onUpdateParams:S,callbackScope:M,stagger:0},x))),P)if(i>0)!k&&(e._startAt=0);else if(O)return}else if(C&&O)if(N)!k&&(e._startAt=0);else if(i&&(P=!1),vt(e._startAt=Ie.set(B,lt(ft(v,U),{overwrite:!1,data:"isFromStart",lazy:P&&T(w),immediateRender:P,stagger:0,parent:L}))),P){if(!i)return}else t(e._startAt,d);for(r=ft(v,U),e._pt=0,m=(l=B[0]?$(B[0]).harness:0)&&v[l.prop],w=O&&T(w)||w&&!O,o=0;o<B.length;o++){if(h=(u=B[o])._gsap||K(B)[o]._gsap,e._ptLookup[o]=g={},V[h.id]&&ot(),y=I===B?o:I.indexOf(u),l&&!1!==(f=new l).init(u,m||r,e,y,I)&&(e._pt=s=new Je(e._pt,u,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(t){g[t]=s}),f.priority&&(c=1)),!l||m)for(a in r)q[a]&&(f=De(a,r,e,y,u,I))?f.priority&&(c=1):g[a]=s=Ce.call(e,u,a,"get",r[a],y,I,0,v.stringFilter);e._op&&e._op[o]&&e.kill(u,e._op[o]),E&&e._pt&&(Me=e,n.killTweensOf(u,g,"started"),Me=0),e._pt&&w&&(V[h.id]=1)}c&&Ge(e),e._onInit&&e._onInit(e)}e._from=!R&&!!v.runBackwards,e._onUpdate=b,e._initted=1},Oe=function(t,e){var i,n,r,o,a=t[0]?$(t[0]).harness:0,s=a&&a.aliases;if(!s)return e;i=lt({},e);for(n in s)if(n in i)for(r=(o=s[n].split(",")).length;r--;)i[o[r]]=i[n];return i},Ne=function(t,e,i,n,r){return w(t)?t.call(e,i,n,r):P(t)&&~t.indexOf("random(")?Gt(t):t},Be=Q+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Le=(Be+",id,stagger,delay,duration,paused").split(","),Ie=function(t){function r(e,r,o,a){var s;"number"==typeof r&&(o.duration=r,r=o,o=null);var u,c,h,p,f,g,y,m,v=(s=t.call(this,a?r:dt(r),o)||this).vars,_=v.duration,x=v.delay,P=v.immediateRender,w=v.stagger,S=v.overwrite,C=v.keyframes,k=v.defaults,O=s.parent,N=(D(e)?b(e[0]):"length"in r)?[e]:jt(e);if(s._targets=N.length?K(N):j("GSAP target "+e+" not found. https://greensock.com",!l.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=S,C||w||A(_)||A(x)){if(r=s.vars,(u=s.timeline=new Se({data:"nested",defaults:k||{}})).kill(),u.parent=i(s),C)ct(u.vars.defaults,{ease:"none"}),C.forEach(function(t){return u.to(N,t,">")});else{if(p=N.length,y=w?Ht(w):H,M(w))for(f in w)~Be.indexOf(f)&&(m||(m={}),m[f]=w[f]);for(c=0;c<p;c++){h={};for(f in r)Le.indexOf(f)<0&&(h[f]=r[f]);h.stagger=0,m&&lt(h,m),r.yoyoEase&&!r.repeat&&(h.yoyoEase=r.yoyoEase),g=N[c],h.duration=+Ne(_,i(s),c,g,N),h.delay=(+Ne(x,i(s),c,g,N)||0)-s._delay,!w&&1===p&&h.delay&&(s._delay=x=h.delay,s._start+=x,h.delay=0),u.to(g,h,y(c,g,N))}_=x=0}_||s.duration(_=u.duration())}else s.timeline=0;return!0===S&&(Me=i(s),n.killTweensOf(N),Me=0),O&&Tt(O,i(s)),(P||!_&&!C&&s._start===O._time&&T(P)&&Pt(i(s))&&"nested"!==O.data)&&(s._tTime=-d,s.render(Math.max(0,-x))),s}e(r,t);var o=r.prototype;return o.render=function(t,e,i){var n,r,o,a,s,u,c,h,l,p=this._time,f=this._tDur,g=this._dur,y=t>f-d&&t>=0?f:t<d?0:t;if(g){if(y!==this._tTime||!t||i||this._startAt&&this._zTime<0!=t<0){if(n=y,h=this.timeline,this._repeat){if(a=g+this._rDelay,((n=it(y%a))>g||f===y)&&(n=g),(o=~~(y/a))&&o===y/a&&(n=g,o--),(u=this._yoyo&&1&o)&&(l=this._yEase,n=g-n),s=bt(this._tTime,a),n===p&&!i&&this._initted)return this;o!==s&&(!this.vars.repeatRefresh||u||this._lock||(this._lock=i=1,this.render(a*o,!0).invalidate()._lock=0))}if(!this._initted){if(At(this,n,i,e))return this._tTime=0,this;if(g!==this._dur)return this.render(t,e,i)}for(this._tTime=y,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(l||this._ease)(n/g),this._from&&(this.ratio=c=1-c),p||!n||e||Qt(this,"onStart"),r=this._pt;r;)r.r(c,r.d),r=r._next;h&&h.render(t<0?t:!n&&u?-d:h._dur*c,e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,i),Qt(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!e&&this.parent&&Qt(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,i),(t||!g)&&(t&&this._ts>0||!y&&this._ts<0)&&vt(this,1),e||t<0&&!p||y<f&&this.timeScale()>0||(Qt(this,y===f?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else Dt(this,t,e,i);return this},o.targets=function(){return this._targets},o.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},o.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return Kt(this);if(this.timeline)return this.timeline.killTweensOf(t,e,Me&&!0!==Me.vars.overwrite),this;var i,n,r,o,a,s,u,c=this._targets,h=t?jt(t):c,l=this._ptLookup,p=this._pt;if((!e||"all"===e)&&gt(c,h))return Kt(this);for(i=this._op=this._op||[],"all"!==e&&(P(e)&&(a={},et(e,function(t){return a[t]=1}),e=a),e=Oe(c,e)),u=c.length;u--;)if(~h.indexOf(c[u])){n=l[u],"all"===e?(i[u]=e,o=n,r={}):(r=i[u]=i[u]||{},o=e);for(a in o)(s=n&&n[a])&&("kill"in s.d&&!0!==s.d.kill(a)||mt(this,s,"_pt"),delete n[a]),"all"!==r&&(r[a]=1)}return this._initted&&!this._pt&&p&&Kt(this),this},r.to=function(t,e){return new r(t,e,arguments[2])},r.from=function(t,e){return new r(t,rt(arguments,1))},r.delayedCall=function(t,e,i,n){return new r(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})},r.fromTo=function(t,e,i){return new r(t,rt(arguments,2))},r.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new r(t,e)},r.killTweensOf=function(t,e,i){return n.killTweensOf(t,e,i)},r}(be);ct(Ie.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),et("staggerTo,staggerFrom,staggerFromTo",function(t){Ie[t]=function(){var e=new Se,i=Ft.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}});var Ee=function(t,e,i){return t[e]=i},Re=function(t,e,i){return t[e](i)},Fe=function(t,e,i,n){return t[e](n.fp,i)},ze=function(t,e,i){return t.setAttribute(e,i)},We=function(t,e){return w(t[e])?Re:S(t[e])&&t.setAttribute?ze:Ee},je=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},Xe=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},He=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},Ue=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},Ye=function(t,e,i,n){for(var r,o=this._pt;o;)r=o._next,o.p===n&&o.modifier(t,e,i),o=r},Ve=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?mt(this,n,"_pt"):n.dep||(e=1),n=i;return!e},qe=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},Ge=function(t){for(var e,i,n,r,o=t._pt;o;){for(e=o._next,i=n;i&&i.pr>o.pr;)i=i._next;(o._prev=i?i._prev:r)?o._prev._next=o:n=o,(o._next=i)?i._prev=o:r=o,o=e}t._pt=n},Je=function(){function t(t,e,i,n,r,o,a,s,u){this.t=e,this.s=n,this.c=r,this.p=i,this.r=o||je,this.d=a||this,this.set=s||Ee,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=qe,this.m=t,this.mt=i,this.tween=e},t}();et(Q+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(t){return U[t]=1}),R.TweenMax=R.TweenLite=Ie,R.TimelineLite=R.TimelineMax=Se,n=new Se({sortChildren:!1,defaults:p,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),l.stringFilter=ue;var Ze={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(t){return $t(t)})},timeline:function(t){return new Se(t)},getTweensOf:function(t,e){return n.getTweensOf(t,e)},getProperty:function(t,e,i,n){P(t)&&(t=jt(t)[0]);var r=$(t||{}).get,o=i?ut:st;return"native"===i&&(i=""),t?e?o((q[e]&&q[e].get||r)(t,e,i,n)):function(e,i,n){return o((q[e]&&q[e].get||r)(t,e,i,n))}:t},quickSetter:function(t,e,i){if((t=jt(t)).length>1){var n=t.map(function(t){return ti.quickSetter(t,e,i)}),r=n.length;return function(t){for(var e=r;e--;)n[e](t)}}t=t[0]||{};var o=q[e],a=$(t),s=o?function(e){var n=new o;c._pt=0,n.init(t,i?e+i:e,c,0,[t]),n.render(1,n),c._pt&&Ue(1,c)}:a.set(t,e);return o?s:function(n){return s(t,e,i?n+i:n,a,1)}},isTweening:function(t){return n.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=me(t.ease,p.ease)),pt(p,t||{})},config:function(t){return pt(l,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,r=t.defaults,o=t.extendTimeline;(n||"").split(",").forEach(function(t){return t&&!q[t]&&!R[t]&&j(e+" effect requires "+t+" plugin.")}),G[e]=function(t,e,n){return i(jt(t),ct(e||{},r),n)},o&&(Se.prototype[e]=function(t,i,n){return this.add(G[e](t,M(i)?i:(n=i)&&{},this),n)})},registerEase:function(t,e){le[t]=me(e)},parseEase:function(t,e){return arguments.length?me(t,e):le},getById:function(t){return n.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,r,o=new Se(t);for(o.smoothChildTiming=T(t.smoothChildTiming),n.remove(o),o._dp=0,o._time=o._tTime=n._time,i=n._first;i;)r=i._next,!e&&!i._dur&&i instanceof Ie&&i.vars.onComplete===i._targets[0]||Ct(o,i,i._start-i._delay),i=r;return Ct(n,o,0),o},utils:{wrap:function t(e,i,n){var r=i-e;return D(e)?qt(e,t(0,e.length),i):It(n,function(t){return(r+(t-e)%r)%r+e})},wrapYoyo:function t(e,i,n){var r=i-e,o=2*r;return D(e)?qt(e,t(0,e.length-1),i):It(n,function(t){return e+((t=(o+(t-e)%o)%o)>r?o-t:t)})},distribute:Ht,random:Vt,snap:Yt,normalize:function(t,e,i){return Jt(t,e,0,1,i)},getUnit:Rt,clamp:function(t,e,i){return It(i,function(i){return Et(t,e,i)})},splitColor:ne,toArray:jt,mapRange:Jt,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||Rt(i))}},interpolate:function t(e,i,n,r){var o=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!o){var a,s,u,c,h,l=P(e),p={};if(!0===n&&(r=1)&&(n=null),l)e={p:e},i={p:i};else if(D(e)&&!D(i)){for(u=[],c=e.length,h=c-2,s=1;s<c;s++)u.push(t(e[s-1],e[s]));c--,o=function(t){t*=c;var e=Math.min(h,~~t);return u[e](t-e)},n=i}else r||(e=lt(D(e)?[]:{},e));if(!u){for(a in i)Ce.call(p,e,a,"get",i[a]);o=function(t){return Ue(t,p)||(l?e.p:e)}}}return It(n,o)},shuffle:Xt},install:z,effects:G,ticker:ce,updateRoot:Se.updateRoot,plugins:q,globalTimeline:n,core:{PropTween:Je,globals:X,Tween:Ie,Timeline:Se,Animation:be,getCache:$,_removeLinkedListItem:mt}};et("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ze[t]=Ie[t]}),ce.add(Se.updateRoot),c=Ze.to({},{duration:0});var Qe=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Ke=function(t,e){var i,n,r,o=t._targets;for(i in e)for(n=o.length;n--;)(r=t._ptLookup[n][i])&&(r=r.d)&&(r._pt&&(r=Qe(r,i)),r&&r.modifier&&r.modifier(e[i],t,o[n],i))},$e=function(t,e){return{name:t,rawVars:1,init:function(t,i,n){n._onInit=function(t){var n,r;if(P(i)&&(n={},et(i,function(t){return n[t]=1}),i=n),e){n={};for(r in i)n[r]=e(i[r]);i=n}Ke(t,i)}}}},ti=Ze.registerPlugin({name:"attr",init:function(t,e,i,n,r){for(var o in e)this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],n,r,0,0,o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},$e("roundProps",Ut),$e("modifiers"),$e("snap",Yt))||Ze;Ie.version=Se.version=ti.version="3.2.6",s=1,C()&&he();var ei,ii,ni,ri,oi,ai,si,ui,ci=le.Power0,hi=le.Power1,li=le.Power2,pi=le.Power3,fi=le.Power4,di=le.Linear,gi=le.Quad,yi=le.Cubic,mi=le.Quart,vi=le.Quint,_i=le.Strong,xi=le.Elastic,Pi=le.Back,wi=le.SteppedEase,bi=le.Bounce,Si=le.Sine,Mi=le.Expo,Ti=le.Circ,Ci={},Ai=180/Math.PI,Di=Math.PI/180,ki=Math.atan2,Oi=/([A-Z])/g,Ni=/(?:left|right|width|margin|padding|x)/i,Bi=/[\s,\(]\S/,Li={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ii=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ei=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ri=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Fi=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},zi=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Wi=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},ji=function(t,e,i){return t.style[e]=i},Xi=function(t,e,i){return t.style.setProperty(e,i)},Hi=function(t,e,i){return t._gsap[e]=i},Ui=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},Yi=function(t,e,i,n,r){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},Vi=function(t,e,i,n,r){var o=t._gsap;o[e]=i,o.renderTransform(r,o)},qi="transform",Gi=qi+"Origin",Ji=function(t,e){var i=ii.createElementNS?ii.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ii.createElement(t);return i.style?i:ii.createElement(t)},Zi=function t(e,i,n){var r=getComputedStyle(e);return r[i]||r.getPropertyValue(i.replace(Oi,"-$1").toLowerCase())||r.getPropertyValue(i)||!n&&t(e,Ki(i)||i,1)||""},Qi="O,Moz,ms,Ms,Webkit".split(","),Ki=function(t,e,i){var n=(e||oi).style,r=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(Qi[r]+t in n););return r<0?null:(3===r?"ms":r>=0?Qi[r]:"")+t},$i=function(){"undefined"!=typeof window&&(ei=window,ii=ei.document,ni=ii.documentElement,oi=Ji("div")||{style:{}},ai=Ji("div"),qi=Ki(qi),Gi=Ki(Gi),oi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ui=!!Ki("perspective"),ri=1)},tn=function t(e){var i,n=Ji("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(ni.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(i=this._gsapBBox());return r&&(o?r.insertBefore(this,o):r.appendChild(this)),ni.removeChild(n),this.style.cssText=a,i},en=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},nn=function(t){var e;try{e=t.getBBox()}catch(i){e=tn.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===tn||(e=tn.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+en(t,["x","cx","x1"])||0,y:+en(t,["y","cy","y1"])||0,width:0,height:0}},rn=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!nn(t))},on=function(t,e){if(e){var i=t.style;e in Ci&&(e=qi),i.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),i.removeProperty(e.replace(Oi,"-$1").toLowerCase())):i.removeAttribute(e)}},an=function(t,e,i,n,r,o){var a=new Je(t._pt,e,i,0,1,o?Wi:zi);return t._pt=a,a.b=n,a.e=r,t._props.push(i),a},sn={deg:1,rad:1,turn:1},un=function t(e,i,n,r){var o,a,s,u,c=parseFloat(n)||0,h=(n+"").trim().substr((c+"").length)||"px",l=oi.style,p=Ni.test(i),f="svg"===e.tagName.toLowerCase(),d=(f?"client":"offset")+(p?"Width":"Height"),g="px"===r,y="%"===r;return r===h||!c||sn[r]||sn[h]?c:("px"!==h&&!g&&(c=t(e,i,n,"px")),u=e.getCTM&&rn(e),y&&(Ci[i]||~i.indexOf("adius"))?it(c/(u?e.getBBox()[p?"width":"height"]:e[d])*100):(l[p?"width":"height"]=100+(g?h:r),a=~i.indexOf("adius")||"em"===r&&e.appendChild&&!f?e:e.parentNode,u&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==ii&&a.appendChild||(a=ii.body),(s=a._gsap)&&y&&s.width&&p&&s.time===ce.time?it(c/s.width*100):((y||"%"===h)&&(l.position=Zi(e,"position")),a===e&&(l.position="static"),a.appendChild(oi),o=oi[d],a.removeChild(oi),l.position="absolute",p&&y&&((s=$(a)).time=ce.time,s.width=a[d]),it(g?o*c/100:o&&c?100/o*c:0))))},cn=function(t,e,i,n){var r;return ri||$i(),e in Li&&"transform"!==e&&~(e=Li[e]).indexOf(",")&&(e=e.split(",")[0]),Ci[e]&&"transform"!==e?(r=Pn(t,n),r="transformOrigin"!==e?r[e]:wn(Zi(t,Gi))+" "+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||n||~(r+"").indexOf("calc("))&&(r=dn[e]&&dn[e](t,e,i)||Zi(t,e)||tt(t,e)||("opacity"===e?1:0)),i&&!~(r+"").indexOf(" ")?un(t,e,r,i)+i:r},hn=function(t,e,i,n){if(!i||"none"===i){var r=Ki(e,t,1),o=r&&Zi(t,r,1);o&&o!==i&&(e=r,i=o)}var a,s,u,c,h,p,f,d,g,y,m,v,_=new Je(this._pt,t.style,e,0,1,He),x=0,P=0;if(_.b=i,_.e=n,i+="","auto"===(n+="")&&(t.style[e]=n,n=Zi(t,e)||n,t.style[e]=i),ue(a=[i,n]),n=a[1],u=(i=a[0]).match(N)||[],(n.match(N)||[]).length){for(;s=N.exec(n);)f=s[0],g=n.substring(x,s.index),h?h=(h+1)%5:"rgba("!==g.substr(-5)&&"hsla("!==g.substr(-5)||(h=1),f!==(p=u[P++]||"")&&(c=parseFloat(p)||0,m=p.substr((c+"").length),(v="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),d=parseFloat(f),y=f.substr((d+"").length),x=N.lastIndex-y.length,y||(y=y||l.units[e]||m,x===n.length&&(n+=y,_.e+=y)),m!==y&&(c=un(t,e,p,y)||0),_._pt={_next:_._pt,p:g||1===P?g:",",s:c,c:v?v*d:d-c,m:h&&h<4?Math.round:0});_.c=x<n.length?n.substring(x,n.length):""}else _.r="display"===e&&"none"===n?Wi:zi;return I.test(n)&&(_.e=0),this._pt=_,_},ln={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},pn=function(t){var e=t.split(" "),i=e[0],n=e[1]||"50%";return"top"!==i&&"bottom"!==i&&"left"!==n&&"right"!==n||(t=i,i=n,n=t),e[0]=ln[i]||i,e[1]=ln[n]||n,e.join(" ")},fn=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,r,o=e.t,a=o.style,s=e.u,u=o._gsap;if("all"===s||!0===s)a.cssText="",n=1;else for(r=(s=s.split(",")).length;--r>-1;)i=s[r],Ci[i]&&(n=1,i="transformOrigin"===i?Gi:qi),on(o,i);n&&(on(o,qi),u&&(u.svg&&o.removeAttribute("transform"),Pn(o,1),u.uncache=1))}},dn={clearProps:function(t,e,i,n,r){if("isFromStart"!==r.data){var o=t._pt=new Je(t._pt,e,i,0,0,fn);return o.u=n,o.pr=-10,o.tween=r,t._props.push(i),1}}},gn=[1,0,0,1,0,0],yn={},mn=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},vn=function(t){var e=Zi(t,qi);return mn(e)?gn:e.substr(7).match(O).map(it)},_n=function(t,e){var i,n,r,o,a=t._gsap||$(t),s=t.style,u=vn(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?gn:u:(u!==gn||t.offsetParent||t===ni||a.svg||(r=s.display,s.display="block",(i=t.parentNode)&&t.offsetParent||(o=1,n=t.nextSibling,ni.appendChild(t)),u=vn(t),r?s.display=r:on(t,"display"),o&&(n?i.insertBefore(t,n):i?i.appendChild(t):ni.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},xn=function(t,e,i,n,r,o){var a,s,u,c=t._gsap,h=r||_n(t,!0),l=c.xOrigin||0,p=c.yOrigin||0,f=c.xOffset||0,d=c.yOffset||0,g=h[0],y=h[1],m=h[2],v=h[3],_=h[4],x=h[5],P=e.split(" "),w=parseFloat(P[0])||0,b=parseFloat(P[1])||0;i?h!==gn&&(s=g*v-y*m)&&(u=w*(-y/s)+b*(g/s)-(g*x-y*_)/s,w=w*(v/s)+b*(-m/s)+(m*x-v*_)/s,b=u):(w=(a=nn(t)).x+(~P[0].indexOf("%")?w/100*a.width:w),b=a.y+(~(P[1]||P[0]).indexOf("%")?b/100*a.height:b)),n||!1!==n&&c.smooth?(_=w-l,x=b-p,c.xOffset=f+(_*g+x*m)-_,c.yOffset=d+(_*y+x*v)-x):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=b,c.smooth=!!n,c.origin=e,c.originIsAbsolute=!!i,t.style[Gi]="0px 0px",o&&(an(o,c,"xOrigin",l,w),an(o,c,"yOrigin",p,b),an(o,c,"xOffset",f,c.xOffset),an(o,c,"yOffset",d,c.yOffset)),t.setAttribute("data-svg-origin",w+" "+b)},Pn=function(t,e){var i=t._gsap||new we(t);if("x"in i&&!e&&!i.uncache)return i;var n,r,o,a,s,u,c,h,p,f,d,g,y,m,v,_,x,P,w,b,S,M,T,C,A,D,k,O,N,B,L,I,E=t.style,R=i.scaleX<0,F="deg",z=Zi(t,Gi)||"0";return n=r=o=u=c=h=p=f=d=0,a=s=1,i.svg=!(!t.getCTM||!rn(t)),m=_n(t,i.svg),i.svg&&(C=!i.uncache&&t.getAttribute("data-svg-origin"),xn(t,C||z,!!C||i.originIsAbsolute,!1!==i.smooth,m)),g=i.xOrigin||0,y=i.yOrigin||0,m!==gn&&(P=m[0],w=m[1],b=m[2],S=m[3],n=M=m[4],r=T=m[5],6===m.length?(a=Math.sqrt(P*P+w*w),s=Math.sqrt(S*S+b*b),u=P||w?ki(w,P)*Ai:0,(p=b||S?ki(b,S)*Ai+u:0)&&(s*=Math.cos(p*Di)),i.svg&&(n-=g-(g*P+y*b),r-=y-(g*w+y*S))):(I=m[6],B=m[7],k=m[8],O=m[9],N=m[10],L=m[11],n=m[12],r=m[13],o=m[14],c=(v=ki(I,N))*Ai,v&&(C=M*(_=Math.cos(-v))+k*(x=Math.sin(-v)),A=T*_+O*x,D=I*_+N*x,k=M*-x+k*_,O=T*-x+O*_,N=I*-x+N*_,L=B*-x+L*_,M=C,T=A,I=D),h=(v=ki(-b,N))*Ai,v&&(_=Math.cos(-v),L=S*(x=Math.sin(-v))+L*_,P=C=P*_-k*x,w=A=w*_-O*x,b=D=b*_-N*x),u=(v=ki(w,P))*Ai,v&&(C=P*(_=Math.cos(v))+w*(x=Math.sin(v)),A=M*_+T*x,w=w*_-P*x,T=T*_-M*x,P=C,M=A),c&&Math.abs(c)+Math.abs(u)>359.9&&(c=u=0,h=180-h),a=it(Math.sqrt(P*P+w*w+b*b)),s=it(Math.sqrt(T*T+I*I)),v=ki(M,T),p=Math.abs(v)>2e-4?v*Ai:0,d=L?1/(L<0?-L:L):0),i.svg&&(m=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!mn(Zi(t,qi)),m&&t.setAttribute("transform",m))),Math.abs(p)>90&&Math.abs(p)<270&&(R?(a*=-1,p+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,p+=p<=0?180:-180)),i.x=((i.xPercent=n&&Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)?0:n)+"px",i.y=((i.yPercent=r&&Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)?0:r)+"px",i.z=o+"px",i.scaleX=it(a),i.scaleY=it(s),i.rotation=it(u)+F,i.rotationX=it(c)+F,i.rotationY=it(h)+F,i.skewX=p+F,i.skewY=f+F,i.transformPerspective=d+"px",(i.zOrigin=parseFloat(z.split(" ")[2])||0)&&(E[Gi]=wn(z)),i.xOffset=i.yOffset=0,i.force3D=l.force3D,i.renderTransform=i.svg?Dn:ui?An:Sn,i.uncache=0,i},wn=function(t){return(t=t.split(" "))[0]+" "+t[1]},bn=function(t,e,i){var n=Rt(e);return it(parseFloat(e)+parseFloat(un(t,"x",i+"px",n)))+n},Sn=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,An(t,e)},Mn="0deg",Tn="0px",Cn=") ",An=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,o=i.x,a=i.y,s=i.z,u=i.rotation,c=i.rotationY,h=i.rotationX,l=i.skewX,p=i.skewY,f=i.scaleX,d=i.scaleY,g=i.transformPerspective,y=i.force3D,m=i.target,v=i.zOrigin,_="",x="auto"===y&&t&&1!==t||!0===y;if(v&&(h!==Mn||c!==Mn)){var P,w=parseFloat(c)*Di,b=Math.sin(w),S=Math.cos(w);w=parseFloat(h)*Di,P=Math.cos(w),o=bn(m,o,b*P*-v),a=bn(m,a,-Math.sin(w)*-v),s=bn(m,s,S*P*-v+v)}g!==Tn&&(_+="perspective("+g+Cn),(n||r)&&(_+="translate("+n+"%, "+r+"%) "),(x||o!==Tn||a!==Tn||s!==Tn)&&(_+=s!==Tn||x?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+Cn),u!==Mn&&(_+="rotate("+u+Cn),c!==Mn&&(_+="rotateY("+c+Cn),h!==Mn&&(_+="rotateX("+h+Cn),l===Mn&&p===Mn||(_+="skew("+l+", "+p+Cn),1===f&&1===d||(_+="scale("+f+", "+d+Cn),m.style[qi]=_||"translate(0, 0)"},Dn=function(t,e){var i,n,r,o,a,s=e||this,u=s.xPercent,c=s.yPercent,h=s.x,l=s.y,p=s.rotation,f=s.skewX,d=s.skewY,g=s.scaleX,y=s.scaleY,m=s.target,v=s.xOrigin,_=s.yOrigin,x=s.xOffset,P=s.yOffset,w=s.forceCSS,b=parseFloat(h),S=parseFloat(l);p=parseFloat(p),f=parseFloat(f),(d=parseFloat(d))&&(f+=d=parseFloat(d),p+=d),p||f?(p*=Di,f*=Di,i=Math.cos(p)*g,n=Math.sin(p)*g,r=Math.sin(p-f)*-y,o=Math.cos(p-f)*y,f&&(d*=Di,a=Math.tan(f-d),r*=a=Math.sqrt(1+a*a),o*=a,d&&(a=Math.tan(d),i*=a=Math.sqrt(1+a*a),n*=a)),i=it(i),n=it(n),r=it(r),o=it(o)):(i=g,o=y,n=r=0),(b&&!~(h+"").indexOf("px")||S&&!~(l+"").indexOf("px"))&&(b=un(m,"x",h,"px"),S=un(m,"y",l,"px")),(v||_||x||P)&&(b=it(b+v-(v*i+_*r)+x),S=it(S+_-(v*n+_*o)+P)),(u||c)&&(a=m.getBBox(),b=it(b+u/100*a.width),S=it(S+c/100*a.height)),a="matrix("+i+","+n+","+r+","+o+","+b+","+S+")",m.setAttribute("transform",a),w&&(m.style[qi]=a)},kn=function(t,e,i,n,r,o){var a,s,u=360,c=P(r),h=parseFloat(r)*(c&&~r.indexOf("rad")?Ai:1),l=o?h*o:h-n,p=n+l+"deg";return c&&("short"===(a=r.split("_")[1])&&(l%=u)!==l%180&&(l+=l<0?u:-u),"cw"===a&&l<0?l=(l+36e9)%u-~~(l/u)*u:"ccw"===a&&l>0&&(l=(l-36e9)%u-~~(l/u)*u)),t._pt=s=new Je(t._pt,e,i,n,l,Ei),s.e=p,s.u="deg",t._props.push(i),s},On=function(t,e,i){var n,r,o,a,s,u,c,h=ai.style,l=i._gsap;h.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",h[qi]=e,ii.body.appendChild(ai),n=Pn(ai,1);for(r in Ci)(o=l[r])!==(a=n[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(s=Rt(o)!==(c=Rt(a))?un(i,r,o,c):parseFloat(o),u=parseFloat(a),t._pt=new Je(t._pt,l,r,s,u-s,Ii),t._pt.u=c||0,t._props.push(r));ii.body.removeChild(ai)};et("padding,margin,Width,Radius",function(t,e){var i="Right",n="Bottom",r="Left",o=(e<3?["Top",i,n,r]:["Top"+r,"Top"+i,n+i,n+r]).map(function(i){return e<2?t+i:"border"+i+t});dn[e>1?"border"+t:t]=function(t,e,i,n,r){var a,s;if(arguments.length<4)return a=o.map(function(e){return cn(t,e,i)}),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(n+"").split(" "),s={},o.forEach(function(t,e){return s[t]=a[e]=a[e]||a[(e-1)/2|0]}),t.init(e,s,r)}});var Nn={name:"css",register:$i,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,r){var o,a,s,u,c,h,p,f,d,g,y,m,v,_,x,P=this._props,w=t.style;ri||$i();for(p in e)if("autoRound"!==p&&(a=e[p],!q[p]||!De(p,e,i,n,t,r)))if(c=typeof a,h=dn[p],"function"===c&&(c=typeof(a=a.call(i,n,t,r))),"string"===c&&~a.indexOf("random(")&&(a=Gt(a)),h)h(this,t,p,a,i)&&(x=1);else if("--"===p.substr(0,2))this.add(w,"setProperty",getComputedStyle(t).getPropertyValue(p)+"",a+"",n,r,0,0,p);else{if(o=cn(t,p),u=parseFloat(o),(g="string"===c&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),s=parseFloat(a),p in Li&&("autoAlpha"===p&&(1===u&&"hidden"===cn(t,"visibility")&&s&&(u=0),an(this,w,"visibility",u?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==p&&"transform"!==p&&~(p=Li[p]).indexOf(",")&&(p=p.split(",")[0])),y=p in Ci)if(m||((v=t._gsap).renderTransform||Pn(t),_=!1!==e.smoothOrigin&&v.smooth,(m=this._pt=new Je(this._pt,w,qi,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===p)this._pt=new Je(this._pt,v,"scaleY",v.scaleY,g?g*s:s-v.scaleY),P.push("scaleY",p),p+="X";else{if("transformOrigin"===p){a=pn(a),v.svg?xn(t,a,0,_,0,this):((d=parseFloat(a.split(" ")[2])||0)!==v.zOrigin&&an(this,v,"zOrigin",v.zOrigin,d),an(this,w,p,wn(o),wn(a)));continue}if("svgOrigin"===p){xn(t,a,1,_,0,this);continue}if(p in yn){kn(this,v,p,u,a,g);continue}if("smoothOrigin"===p){an(this,v,"smooth",v.smooth,a);continue}if("force3D"===p){v[p]=a;continue}if("transform"===p){On(this,a,t);continue}}else p in w||(p=Ki(p)||p);if(y||(s||0===s)&&(u||0===u)&&!Bi.test(a)&&p in w)f=(o+"").substr((u+"").length),s||(s=0),f!==(d=(a+"").substr((s+"").length)||(p in l.units?l.units[p]:f))&&(u=un(t,p,o,d)),this._pt=new Je(this._pt,y?v:w,p,u,g?g*s:s-u,"px"!==d||!1===e.autoRound||y?Ii:Fi),this._pt.u=d||0,f!==d&&(this._pt.b=o,this._pt.r=Ri);else if(p in w)hn.call(this,t,p,o,a);else{if(!(p in t)){W(p,a);continue}this.add(t,p,t[p],a,n,r)}P.push(p)}x&&Ge(this)},get:cn,aliases:Li,getSetter:function(t,e,i){var n=Li[e];return n&&n.indexOf(",")<0&&(e=n),e in Ci&&e!==Gi&&(t._gsap.x||cn(t,"x"))?i&&si===i?"scale"===e?Ui:Hi:(si=i||{})&&("scale"===e?Yi:Vi):t.style&&!S(t.style[e])?ji:~e.indexOf("-")?Xi:We(t,e)},core:{_removeProperty:on,_getMatrix:_n}};ti.utils.checkPrefix=Ki,function(t,e,i,n){var r=et(t+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){Ci[t]=1});et(e,function(t){l.units[t]="deg",yn[t]=1}),Li[r[13]]=t+","+e,et("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");Li[e[1]]=r[e[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),et("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){l.units[t]="px"}),ti.registerPlugin(Nn);var Bn=ti.registerPlugin(Nn)||ti,Ln=Bn.core.Tween;t.Back=Pi,t.Bounce=bi,t.CSSPlugin=Nn,t.Circ=Ti,t.Cubic=yi,t.Elastic=xi,t.Expo=Mi,t.Linear=di,t.Power0=ci,t.Power1=hi,t.Power2=li,t.Power3=pi,t.Power4=fi,t.Quad=gi,t.Quart=mi,t.Quint=vi,t.Sine=Si,t.SteppedEase=wi,t.Strong=_i,t.TimelineLite=Se,t.TimelineMax=Se,t.TweenLite=Ie,t.TweenMax=Ln,t.default=Bn,t.gsap=Bn,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete window.default})},{}],Ani:[function(t,e,i){"use strict";cc._RF.push(e,"c3f37gjNOBN3ocfGvbxNoDN","Ani"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("gsap"),r=t("./prefabPool"),o=t("gsap/dist/MotionPathPlugin");n.default.registerPlugin(o.MotionPathPlugin);var a=function(){return function(){this.touched=!1}}();function s(t,e,o){var a=(t.width+t.height)/2/200;a>1&&(a=1),a<.5&&(a=.5);var s=cc.instantiate(r.prefabPool.pointIndicator);s.x=t.x+(.5-t.anchorX)*t.width,s.y=t.y+(.5-t.anchorY)*t.width,t.parent.addChild(s);var u=n.default.timeline();u.call(function(){o.touched&&u.kill()}),u.set(s,{scale:.7*a}),u.to(s,{scale:1.2*a,duration:3,ease:"power1.out"}),u.to(s,{opacity:255,duration:1,ease:"none"},"0"),u.to(s,{opacity:0,duration:2,ease:"power1.out"},"1"),u.call(function(){o.touched&&u.kill()}),u.set(s,{scale:.7*a}),u.to(s,{scale:1.2*a,duration:3,ease:"power1.out"}),u.to(s,{opacity:255,duration:1,ease:"none"},"3"),u.to(s,{opacity:0,duration:2,ease:"power1.out"},"4"),e.pointerTimeline?e.pointerTimeline.add(u,"0"):(e.pointerTimeline=i.ani.getPointerTimeline(),e.pointerTimeline.add(u,"0"))}i.ani={tl:function(t,e,i){void 0!==i&&(t.onStart||(t.onStart=function(){i.isAnimating=!0}),t.onComplete||(t.onComplete=function(){i.isAnimating=!1}));var r=n.default.timeline(t);return e.gsapAnimations?e.gsapAnimations.push(r):(e.gsapAnimations=[],e.gsapAnimations.push(r)),r},getPointerTimeline:function(){return n.default.timeline({repeat:-1,delay:1,repeatDelay:5})},getSliderTimeline:function(){return n.default.timeline({repeat:-1,delay:1})},scrollx:function(t,e,i,n,r){var o=t.width,a=this.tl({},r),s=this.tl({},r),u=this.tl({paused:!0},r);a.to(t,{x:o,duration:n,ease:"none"}),s.set(e,{x:-o}),s.to(e,{x:0,duration:n,ease:"none"}),s.call(function(){u.play(0)}),s.to(e,{x:o,duration:n,ease:"none"}),u.set(i,{x:-o}),u.to(i,{x:0,duration:n,ease:"none"}),u.call(function(){s.play(0)}),u.to(i,{x:o,duration:n,ease:"none"})},jump:function(t,e){var n=i.ani.tl({paused:!0},e,t),r=t.y;return n.to(t,{scaleY:.9,duration:.2}),n.to(t,{scaleX:.9,scaleY:1,duration:.2,ease:"power3.out"}),n.to(t,{y:r+50,duration:.5,ease:"power3.out"},"-=0.2"),n.to(t,{scaleX:1,duration:1,ease:"bounce.out"}),n.to(t,{y:r,duration:1,ease:"bounce.out"},"-=1"),n},squeez:function(t,e){var n=i.ani.tl({paused:!0},e,t);return n.to(t,{scaleX:1.1,scaleY:.9,duration:.3,ease:"sine.out"}),n.to(t,{scaleX:1,scaleY:1,duration:1,ease:"elastic.out(1, 0.3)"}),n},addTouchEvent:function(t,e,i,r){var o,u,c=new a;if(s(t,i,c),t.on("touchstart",function(t){0===t.touch.getID()&&(o=t.getLocation().x,u=t.getLocation().y)}),void 0===r){var h=t.getComponent(cc.Animation);h.on("play",function(){t.isAnimating=!0},this),h.on("stop",function(){t.isAnimating=!1},this),t.on("touchend",function(i){0===i.touch.getID()&&(c.touched=!0,!t.isAnimating&&Math.abs(o-i.getLocation().x)<10&&Math.abs(u-i.getLocation().y)<10&&(h.play(),e&&cc.audioEngine.play(e,!1,1)))})}else if(r instanceof n.default.core.Timeline)t.on("touchend",function(i){0===i.touch.getID()&&(c.touched=!0,!t.isAnimating&&Math.abs(o-i.getLocation().x)<10&&Math.abs(u-i.getLocation().y)<10&&(r.play(0),e&&cc.audioEngine.play(e,!1,1)))});else if(r instanceof cc.Animation)r.on("play",function(){t.isAnimating=!0},this),r.on("stop",function(){t.isAnimating=!1},this),t.on("touchend",function(i){0===i.touch.getID()&&(c.touched=!0,!t.isAnimating&&Math.abs(o-i.getLocation().x)<10&&Math.abs(u-i.getLocation().y)<10&&(r.play(),e&&cc.audioEngine.play(e,!1,1)))});else if(r instanceof cc.Tween){var l=cc.tween(t).call(function(){t.isAnimating=!0});r.call(function(){t.isAnimating=!1});var p=cc.tween(t).parallel(l,r);t.on("touchend",function(i){0===i.touch.getID()&&(c.touched=!0,!t.isAnimating&&Math.abs(o-i.getLocation().x)<10&&Math.abs(u-i.getLocation().y)<10&&(p.start(),e&&cc.audioEngine.play(e,!1,1)))})}else t.on("touchend",function(t){0===t.touch.getID()&&Math.abs(o-t.getLocation().x)<10&&Math.abs(u-t.getLocation().y)<10&&(c.touched=!0,r(t))})},addTouchEventWithoutIndicator:function(t,e,i,r){var o,a;if(t.on("touchstart",function(t){0===t.touch.getID()&&(o=t.getLocation().x,a=t.getLocation().y)}),void 0===r){var s=t.getComponent(cc.Animation);s.on("play",function(){t.isAnimating=!0},this),s.on("stop",function(){t.isAnimating=!1},this),t.on("touchend",function(i){0===i.touch.getID()&&!t.isAnimating&&Math.abs(o-i.getLocation().x)<10&&Math.abs(a-i.getLocation().y)<10&&(s.play(),e&&cc.audioEngine.play(e,!1,1))})}else if(r instanceof n.default.core.Timeline)t.on("touchend",function(i){0===i.touch.getID()&&!t.isAnimating&&Math.abs(o-i.getLocation().x)<10&&Math.abs(a-i.getLocation().y)<10&&(r.play(0),e&&cc.audioEngine.play(e,!1,1))});else if(r instanceof cc.Animation)r.on("play",function(){t.isAnimating=!0},this),r.on("stop",function(){t.isAnimating=!1},this),t.on("touchend",function(i){0===i.touch.getID()&&!t.isAnimating&&Math.abs(o-i.getLocation().x)<10&&Math.abs(a-i.getLocation().y)<10&&(r.play(),e&&cc.audioEngine.play(e,!1,1))});else if(r instanceof cc.Tween){var u=cc.tween(t).call(function(){t.isAnimating=!0});r.call(function(){t.isAnimating=!1});var c=cc.tween(t).parallel(u,r);t.on("touchend",function(i){0===i.touch.getID()&&!t.isAnimating&&Math.abs(o-i.getLocation().x)<10&&Math.abs(a-i.getLocation().y)<10&&(c.start(),e&&cc.audioEngine.play(e,!1,1))})}else t.on("touchend",function(t){0===t.touch.getID()&&Math.abs(o-t.getLocation().x)<10&&Math.abs(a-t.getLocation().y)<10&&r(t)})},addSliderEvent:function(t,e,o,a,s){var u={stop:!1},c=cc.instantiate(r.prefabPool.sliderIndicator);c.zIndex=1,c.x=e.x,c.y=e.y;var h=Math.atan2(o.y-e.y,-(o.x-e.x))/Math.PI*180;c.angle=-h,t.addChild(c);var l,p=c.getChildByName("slider"),f=c.getChildByName("hand"),d=Math.pow(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2),.5),g=Math.abs(d/200);return g<2&&(g=2),(l=s?this.tl({},a):n.default.timeline()).call(function(){u.stop&&l.kill()}),l.to(f,{opacity:200,duration:.5}),l.to(p,{opacity:200,duration:1},"-=0.3"),l.to(c,{x:o.x,y:o.y,duration:g},"0"),l.to([f,p],{opacity:0,duration:.5},"-=0.5"),a.sliderTimeline?a.sliderTimeline.add(l,"0"):(a.sliderTimeline=i.ani.getSliderTimeline(),a.sliderTimeline.add(l,"0")),s?l:u},addFlipEvent:function(t,e,o){var a={x:cc.winSize.width/2-50,y:-cc.winSize.height/2+120},s={x:cc.winSize.width/2-350,y:-cc.winSize.height/2+120},u=cc.instantiate(r.prefabPool.sliderIndicator);u.zIndex=1,u.x=a.x,u.y=a.y;var c=Math.atan2(s.y-a.y,-(s.x-a.x))/Math.PI*180;u.angle=-c,t.addChild(u);var h,l=u.getChildByName("slider"),p=u.getChildByName("hand"),f=Math.pow(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2),.5),d=Math.abs(f/200);return d<2&&(d=2),(h=o?i.ani.tl({repeat:-1,delay:4,repeatDelay:2},e):n.default.timeline({repeat:-1,delay:10,repeatDelay:8})).to(p,{opacity:200,duration:.5}),h.to(l,{opacity:200,duration:1},"-=0.3"),h.to(u,{x:s.x,y:s.y,duration:d},"0"),h.to([p,l],{opacity:0,duration:.5},"-=0.5"),h},playBGM:function(t,e,i,n){var r=n.parent.parent;if(r.currentPlayingBgmURL&&r.currentPlayingBgmURL!==t.url){cc.log("stop old bgm"),cc.audioEngine.stop(r.currentPlayingBgmID);var o=cc.audioEngine.play(t,e,i);r.currentPlayingBgmURL=t.url,r.currentPlayingBgmID=o}if(!r.currentPlayingBgmURL){o=cc.audioEngine.play(t,e,i);r.currentPlayingBgmURL=t.url,r.currentPlayingBgmID=o}},stopBGM:function(t){var e=t.parent.parent;e.currentPlayingBgmURL&&(cc.log("stop old bgm"),cc.audioEngine.stop(e.currentPlayingBgmID),e.currentPlayingBgmURL=null,e.currentPlayingBgmID=null)},playLoopAudio:function(t,e,i,n){var r=cc.audioEngine.play(t,e,i);return n.loopAudioIDs||(n.loopAudioIDs=[]),n.loopAudioIDs.push(r),r},playGuideAudio:function(t,e,n){i.ani.tl({delay:e},n).call(function(){var e=cc.audioEngine.play(t,!1,2);return n.loopAudioIDs||(n.loopAudioIDs=[]),n.loopAudioIDs.push(e),e})},addTapOnce:function(t,e,i){var n,r;t.on("touchstart",function(t){0===t.touch.getID()&&(n=t.getLocation().x,r=t.getLocation().y)}),t.on("touchend",function(o){0===o.touch.getID()&&Math.abs(n-o.getLocation().x)<10&&Math.abs(r-o.getLocation().y)<10&&(e&&cc.audioEngine.play(e,!1,1),i(o),t.pauseSystemEvents(!0))})},addTapOnceWithIndicator:function(t,e,i,n){var r,o,u=new a;s(t,i,u);t.on("touchstart",function(t){0===t.touch.getID()&&(r=t.getLocation().x,o=t.getLocation().y)}),t.on("touchend",function(i){0===i.touch.getID()&&Math.abs(r-i.getLocation().x)<10&&Math.abs(o-i.getLocation().y)<10&&(e&&cc.audioEngine.play(e,!1,1),n(i),t.pauseSystemEvents(!0),u.touched=!0)})},addChooseEvent:function(t){var e=t.option1,o=t.option2,a=t.pageNum1,s=t.pageNum2,u=t.audio1,c=t.audio2,h=t.cb1,l=t.cb2,p=t.blurBg,f=t.audio,d=t.page,g=t.parent,y=t.endPos;g.setNextPageOfBook(null);var m=n.default.timeline();g.masterTimeline.add(m,"endOfDialog");var v=n.default.timeline();m.to(p,{opacity:255,duration:.5,ease:"sine.out"}),m.call(function(){p.on("touchstart",function(){}),p.on("touchend",function(){})}),v.to([e,o],{opacity:255,duration:.5,ease:"sine.in"}),v.call(function(){i.ani.addTapOnce(e,f,function(){cc.log("choose option1"),cc.audioEngine.play(r.prefabPool.audioOptionSelect,!1,1),o.pauseSystemEvents(!0),m.kill();var t=e.parent.convertToNodeSpaceAR(cc.v2(y.x,y.y)),n=i.ani.tl({},d);n.to(e,{scale:.28,angle:0,duration:.1,ease:"none"}),n.to(e,{scale:.3,duration:.1,ease:"none"}),n.to(e,{x:t.x,y:t.y,scale:.5,duration:.5,ease:"sine.out"}),n.to(o,{opacity:0,duration:.5},"0"),n.call(function(){var t=cc.audioEngine.play(u,!1,1);cc.audioEngine.setFinishCallback(t,function(){if(e.isValid&&p.isValid){var t=i.ani.tl({onComplete:function(){cc.log("unlock flip"),g.setNextPageOfBook(a),i.ani.addFlipEvent(g.ui,d,!0),h()}},d);t.to(e,{scale:0,duration:.5}),t.to(p,{opacity:0,duration:.5,ease:"sine.in"},"0"),t.call(function(){p.active=!1})}})})}),i.ani.addTapOnce(o,f,function(){cc.log("choose option2"),cc.audioEngine.play(r.prefabPool.audioOptionSelect,!1,1),e.pauseSystemEvents(!0),m.kill();var t=o.parent.convertToNodeSpaceAR(cc.v2(y.x,y.y)),n=i.ani.tl({},d);n.to(o,{scale:.28,angle:0,duration:.1,ease:"none"}),n.to(o,{scale:.3,duration:.1,ease:"none"}),n.to(o,{x:t.x,y:t.y,scale:.5,duration:.5,ease:"sine.out"}),n.to(e,{opacity:0,duration:.5},"0"),n.call(function(){var t=cc.audioEngine.play(c,!1,1);cc.audioEngine.setFinishCallback(t,function(){if(o.isValid&&p.isValid){var t=i.ani.tl({onComplete:function(){cc.log("unlock flip"),g.setNextPageOfBook(s),i.ani.addFlipEvent(g.ui,d,!0),l()}},d);t.to(o,{scale:0,duration:.5}),t.to(p,{opacity:0,duration:.5,ease:"sine.in"},"0"),t.call(function(){p.active=!1})}})})})}),m.add(v);var _=n.default.timeline({repeat:-1,delay:1,repeatDelay:2});_.to([e,o],{scale:.25,duration:.5,ease:"power1.out"}),_.call(function(){cc.audioEngine.play(r.prefabPool.audioOptionSqueeze,!1,1)}),_.to([e,o],{scale:.3,duration:1,ease:"elastic.out(1, 0.4)"}),m.add(_,"-=0.3")},addDBTouchEvent:function(t,e,n,r,o){var a=t.getComponent(dragonBones.ArmatureDisplay);a.addEventListener(dragonBones.EventObject.COMPLETE,function(){a.isAnimating=!1},r),i.ani.addTouchEvent(t,n,r,function(){a.isAnimating||(a.isAnimating=!0,a.playAnimation(e,void 0===o?1:o),cc.audioEngine.play(n,!1,1))})},addSpineTouchEvent:function(t,e,n,r,o){var a,s=t.getComponent(sp.Skeleton);s.setStartListener(function(){a=!0}),s.setCompleteListener(function(){a=!1}),i.ani.addTouchEvent(t,n,r,function(){a||(s.clearTrack(0),s.setAnimation(0,e,o),n&&cc.audioEngine.play(n,!1,1))})},addDragEvent:function(t,e,i,r){function o(){if(void 0!==e){var o=t.convertToWorldSpaceAR(cc.v2(t.anchorX,t.anchorY)),a=e.convertToNodeSpaceAR(o);t.parent=e,t.x=a.x,t.y=a.y,Math.sqrt(Math.pow(t.x-i,2)+Math.pow(t.y-r,2))<30&&n.default.to(t,{x:i,y:r,duration:.1})}}t.on("touchstart",function(t){t.stopPropagation()}),t.on("touchmove",function(e){e.stopPropagation();var i=e.getDelta();t.x+=i.x,t.y+=i.y}),t.on("touchend",function(t){t.stopPropagation(),o()}),t.on("touchcancel",function(t){t.stopPropagation(),o()})},showBezierPath:function(t,e){var i=o.MotionPathPlugin.stringToRawPath(e)[0].map(function(t){return parseInt(t,10)});cc.log(i);var n=new cc.Node;n.parent=t.parent,n.x=t.x,n.y=t.y;var r=n.addComponent(cc.Graphics);r.moveTo(0,0);for(var a=2;a<i.length;a+=6)r.bezierCurveTo(i[a]-i[0],i[a+1]-i[1],i[a+2]-i[0],i[a+3]-i[1],i[a+4]-i[0],i[a+5]-i[1]);r.stroke()}},cc._RF.pop()},{"./prefabPool":"prefabPool",gsap:2,"gsap/dist/MotionPathPlugin":1}],BookWrap:[function(t,e,i){"use strict";cc._RF.push(e,"c7c0dQAgO5Nn536hoDTXIOT","BookWrap");var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var o=t("gsap"),a=cc._decorator,s=a.ccclass,u=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coverSf=null,e.book=null,e.audioBgm=null,e.audioOpenBook=null,e}return n(e,t),e.prototype.onLoad=function(){this.coverWrap=this.node.getChildByName("coverWrap"),this.coverWrap1=this.node.getChildByName("coverWrap1"),this.coverBackShadow=this.coverWrap.getChildByName("coverBackShadow"),this.coverBackShadow1=this.coverWrap1.getChildByName("coverBackShadow"),this.coverBackWhite=this.coverWrap.getChildByName("coverBackWhite"),this.coverBackWhite1=this.coverWrap1.getChildByName("coverBackWhite"),this.setCover()},e.prototype.start=function(){this.animateCover(),this.playBgm(),this.animateCoverFinalState(),this.closeBook()},e.prototype.initBook=function(){cc.instantiate(this.book).parent=this.node},e.prototype.animateCoverFinalState=function(){this.cover.scaleX=0,this.coverBackWhite.scaleX=.456,this.coverWrap.x=0,this.coverWrap.scale=2.19},e.prototype.animateCover=function(){var t=this;cc.log("animateCover"),this.coverWrap.on("touchend",function(){t.coverWrap.zIndex=10,cc.log("coverWrap touchend"),cc.audioEngine.play(t.audioOpenBook,!1,.5),t.coverWrap.pauseSystemEvents(!0);var e=o.default.timeline();e.to(t.cover,{scaleX:0,duration:.4}),e.to(t.coverBackWhite,{scaleX:.456,duration:.4}),e.to(t.coverWrap,{x:0,duration:1},"0"),e.to(t.coverWrap,{scale:2.19,duration:1},"0.2"),e.call(function(){t.initBook(),cc.audioEngine.stop(t.audioBgmId)})}),this.coverWrap1.on("touchend",function(){cc.log("coverWrap touchend"),cc.audioEngine.play(t.audioOpenBook,!1,.5),t.coverWrap1.pauseSystemEvents(!0);var e=o.default.timeline();e.to(t.cover1,{scaleX:0,duration:.4}),e.to(t.coverBackWhite1,{scaleX:.456,duration:.4}),e.to(t.coverWrap1,{x:0,duration:1},"0"),e.to(t.coverWrap1,{scale:2.19,duration:1},"0.2"),e.call(function(){cc.director.loadScene("sceneZgn"),cc.audioEngine.stop(t.audioBgmId)})})},e.prototype.setCover=function(){this.cover=new cc.Node("cover"),this.cover.addComponent(cc.Sprite).spriteFrame=this.coverSf,this.cover.parent=this.coverWrap,this.cover.anchorX=0,this.cover1=new cc.Node("cover"),this.cover1.addComponent(cc.Sprite).spriteFrame=this.coverSf,this.cover1.parent=this.coverWrap1,this.cover1.anchorX=0},e.prototype.closeBook=function(){var t=o.default.timeline();t.to(this.coverWrap,{scale:1,duration:1}),t.to(this.coverWrap,{x:50,duration:1},"0"),t.to(this.coverBackWhite,{scaleX:0,duration:.4},"0"),t.to(this.cover,{scaleX:1,duration:.4},">")},e.prototype.playBgm=function(){this.audioBgmId=cc.audioEngine.play(this.audioBgm,!0,1)},r([u(cc.SpriteFrame)],e.prototype,"coverSf",void 0),r([u(cc.Prefab)],e.prototype,"book",void 0),r([u({type:cc.AudioClip})],e.prototype,"audioBgm",void 0),r([u({type:cc.AudioClip})],e.prototype,"audioOpenBook",void 0),e=r([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{gsap:2}],Book:[function(t,e,i){"use strict";cc._RF.push(e,"1a84cnvj4dE7rb19CYFIVkw","Book");var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},o=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(a,s)}u((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var s=t("gsap"),u=t("./TextureCamera"),c=t("./Loader"),h=t("./Page"),l=t("./prefabPool"),p=t("../scripts/utils"),f=cc._decorator,d=f.ccclass,g=f.property;cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bookName="",e.showPage=0,e.totalPages=0,e.pageCurlMaterial=null,e.pageuiPrefab=null,e.cloudDialog=null,e.btmDialog=null,e.pointIndicator=null,e.sliderIndicator=null,e.audioFlipPage=null,e.audioTest=null,e}return n(e,t),Object.defineProperty(e.prototype,"currentPageNum",{get:function(){return this._currentPageNum},set:function(t){"number"!=typeof t&&console.error("\u4f20\u5165\u9875\u6570\u7c7b\u578b\u9519\u8bef\uff01\uff01\uff01\uff01\uff01\uff01\uff01"),this.prevPageNum=t-1,this.nextPageNum=t+1,this._currentPageNum=t},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.pages=new Array(this.totalPages).fill(0),this.currentPageNum=0,this.winWidth=cc.winSize.width,this.winHeight=cc.winSize.height,this.autoFlipHeight=this.lerpAutoFlipHeight(this.winWidth/this.winHeight),this.flipTouchStartEnabled=!1,l.prefabPool.pointIndicator=this.pointIndicator,l.prefabPool.sliderIndicator=this.sliderIndicator,this.timerIdArr=[],this.flipStartTime=0,this.flipTestTimer=100,this.fliptested=!1,this.flipTestDist=cc.winSize.width/20,this.flipFastEnough=!1},e.prototype.start=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return cc.log("base start"),cc.audioEngine.play(this.audioFlipPage,!1,0),[4,(new c.default).loadJSON(this.bookName+"Res/config")];case 1:return t=e.sent(),this.pageConfigs=t.pages,this.isJumpingBook=t.isJumpingBook,[4,this.loadPage(this.showPage)];case 2:return e.sent(),this.openPage(this.showPage),console.log(this.bookName),"weather"===this.bookName&&this.addInteraction(),[2]}})})},e.prototype.loadPage=function(t){return o(this,void 0,void 0,function(){var e,i,n,r,o,s,u,l,p,f,d=this;return a(this,function(a){switch(a.label){case 0:return e=new c.default,i=t<10?this.bookName+"_page0"+t:this.bookName+"_page"+t,n=this.bookName+"Res/prefabs/"+i,[4,e.loadPrefab(n)];case 1:if(r=a.sent(),!cc.isValid(this.node))return[2];(o=new h.default(r)).parent=this,o.uiPrefab=this.pageuiPrefab,o.cloudDialog=this.cloudDialog,o.btmDialog=this.btmDialog,s=this.pageConfigs["page"+t],o.subtitle=s.subtitle,o.manuallyPlaySubtitle=s.manuallyPlaySubtitle,this.isJumpingBook&&(o.prevPageNum=s.prevPageNum,o.curtPageNum=s.curtPageNum,o.nextPageNum=s.nextPageNum,o.isChoosePage=s.isChoosePage),u=s.subtitle.map(function(e,i){return d.bookName+"Res/audios/page"+t+"/page"+t+"-"+i}),l=0,a.label=2;case 2:return l<u.length?(p=u[l],[4,e.loadAudio(p)]):[3,5];case 3:if(f=a.sent(),!cc.isValid(this.node))return[2];o.audioClips.push(f),a.label=4;case 4:return l++,[3,2];case 5:return this.pages[t]=o,o.tips=s.tips,[2]}})})},e.prototype.addInteraction=function(){var t=this,e=p.utils.flipAreaWidth,i=p.utils.flipAreaHeight,n=cc.winSize.width-e;this.node.on("touchstart",function(r){r.getLocationY()>i||r.getLocationX()>e&&r.getLocationX()<n||(t.flipTouchStartEnabled=!0,t.onTouchStart(r))}),this.node.on("touchmove",function(e){t.flipTouchStartEnabled&&t.onTouchMove(e)}),this.node.on("touchend",function(e){if(t.flipTouchStartEnabled&&(t.flipTouchStartEnabled=!1,0===e.touch.getID())){if(t.isJumpingBook){if("forward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].nextPageNum)return;if("backward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].prevPageNum)return}t.onTouchLeave()}}),this.node.on("touchcancel",function(e){if(t.flipTouchStartEnabled&&(t.flipTouchStartEnabled=!1,0===e.touch.getID())){if(t.isJumpingBook){if("forward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].nextPageNum)return;if("backward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].prevPageNum)return}t.onTouchLeave()}})},e.prototype.addNewInteraction=function(){var t=this;this.node.on("touchstart",function(e){t.flipTouchStartEnabled=!0,t.fliptested=!1,t.flipFastEnough=!1,t.flipStartTime=(new Date).getTime(),t.onTouchStart(e)}),this.node.on("touchmove",function(e){t.flipTouchStartEnabled&&((new Date).getTime()-t.flipStartTime>t.flipTestTimer&&!t.fliptested&&(t.fliptested=!0,Math.abs(e.getLocationX()-t.pointerStartPosx)>t.flipTestDist&&(t.flipFastEnough=!0,cc.log("flipFastEnough",Math.abs(e.getLocationX()-t.pointerStartPosx)))),t.flipFastEnough&&t.onTouchMove(e))}),this.node.on("touchend",function(e){if(t.flipTouchStartEnabled&&(t.flipTouchStartEnabled=!1,0===e.touch.getID())){if(t.isJumpingBook){if("forward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].nextPageNum)return;if("backward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].prevPageNum)return}t.onTouchLeave()}}),this.node.on("touchcancel",function(e){if(t.flipTouchStartEnabled&&(t.flipTouchStartEnabled=!1,0===e.touch.getID())){if(t.isJumpingBook){if("forward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].nextPageNum)return;if("backward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].prevPageNum)return}t.onTouchLeave()}})},e.prototype.addFullScrrenSlowInteraction=function(){var t=this;this.node.on("touchstart",function(e){e.target.getComponent(cc.RigidBody)||(t.flipTouchStartEnabled=!0,t.onTouchStart(e))}),this.node.on("touchmove",function(e){t.flipTouchStartEnabled&&t.onTouchMove(e)}),this.node.on("touchend",function(e){if(t.flipTouchStartEnabled&&0===e.touch.getID()){if(t.flipTouchStartEnabled=!1,t.isJumpingBook){if("forward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].nextPageNum)return;if("backward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].prevPageNum)return}t.onTouchLeave()}}),this.node.on("touchcancel",function(e){if(t.flipTouchStartEnabled&&0===e.touch.getID()){if(t.flipTouchStartEnabled=!1,t.isJumpingBook){if("forward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].nextPageNum)return;if("backward"===t.flipDirection&&"number"!=typeof t.pages[t.currentPageNum].prevPageNum)return}t.onTouchLeave()}})},e.prototype.onTouchMove=function(t){if(!this.playingFlipPageAnimation&&this.flipCurrentPage&&0===t.touch.getID()){if(this.isJumpingBook){if("forward"===this.flipDirection&&"number"!=typeof this.pages[this.currentPageNum].nextPageNum)return;if("backward"===this.flipDirection&&"number"!=typeof this.pages[this.currentPageNum].prevPageNum)return}if(this.pointerCurrentPosx=t.getLocation().x,this.pointerCurrentPosy=t.getLocation().y,this.reachFlipDistance||("forward"===this.flipDirection?this.pointerCurrentPosx-this.pointerStartPosx<=-50&&(cc.log("reachFlipDistance 1"),this.reachFlipDistance=!0):this.pointerCurrentPosx-this.pointerStartPosx>=50&&(cc.log("reachFlipDistance 2"),this.reachFlipDistance=!0)),!this.curlMatApplied&&this.reachFlipDistance){if(this.pointerStartPosx=this.pointerCurrentPosx,this.pointerStartPosy=this.pointerCurrentPosy,this.pointerStartPosxSym=this.winWidth-this.pointerStartPosx,"forward"===this.flipDirection){if(this.currentPageNum===this.pages.length-1)return;if(cc.log("\u51c6\u5907\u7ffb\u5230\u4e0b\u4e00\u9875"),cc.log(this.nextPageNum),!this.pages[this.nextPageNum].node)if(this.createPage(this.nextPageNum),this._needGeneratePageTexture(this.nextPageNum))null===(i=this._createTexturePage(this.nextPageNum))&&void 0===i||(cc.log("\u6b63\u5728\u751f\u6210\u7b2c "+this.nextPageNum+" \u9875\u7684\u7eb9\u7406"),u.default.instance.generateTexture(this.pages[this.nextPageNum],i));var e=this.pages[this.nextPageNum].texture;(n=this.pages[this.currentPageNum].blankSp).setMaterial(0,this.pageCurlMaterial),this.curlMatApplied=!0,this.pageCurlMatInstance=n.getMaterial(0),console.warn("pointerStartPosx: ",this.pointerStartPosx," pointerStartPosy: ",this.pointerStartPosy),console.log("this.winWidth: ",this.winWidth,"  this.winHeight",this.winHeight),this.pageCurlMatInstance.setProperty("texture1",e),this.pageCurlMatInstance.setProperty("uFlipMode",0),this.pageCurlMatInstance.setProperty("uStartPosx",950),this.pageCurlMatInstance.setProperty("uStartPosy",this.pointerStartPosy),this.pageCurlMatInstance.setProperty("uPosx",600),this.pageCurlMatInstance.setProperty("uPosy",this.pointerStartPosy),this.pageCurlMatInstance.setProperty("uResolutionX",this.winWidth),this.pageCurlMatInstance.setProperty("uResolutionY",this.winHeight),this.pageCurlMatInstance.setProperty("uRadius",.01)}if("backward"===this.flipDirection){if(0===this.currentPageNum)return;var i;if(cc.log("\u51c6\u5907\u7ffb\u5230\u4e0a\u4e00\u9875"),!this.pages[this.prevPageNum].node)if(this.createPage(this.prevPageNum),this._needGeneratePageTexture(this.prevPageNum))null===(i=this._createTexturePage(this.prevPageNum))&&void 0===i||(cc.log("\u6b63\u5728\u751f\u6210\u7b2c "+this.prevPageNum+" \u9875\u7684\u7eb9\u7406"),u.default.instance.generateTexture(this.pages[this.prevPageNum],i));var n,r=this.pages[this.prevPageNum].texture;(n=this.pages[this.currentPageNum].blankSp).setMaterial(0,this.pageCurlMaterial),this.curlMatApplied=!0,this.pageCurlMatInstance=n.getMaterial(0),this.pageCurlMatInstance.setProperty("texture1",r),this.pageCurlMatInstance.setProperty("uFlipMode",1),this.pageCurlMatInstance.setProperty("uStartPosx",this.pointerStartPosxSym-1),this.pageCurlMatInstance.setProperty("uStartPosy",this.pointerStartPosy),this.pageCurlMatInstance.setProperty("uPosx",this.pointerStartPosxSym),this.pageCurlMatInstance.setProperty("uPosy",this.pointerStartPosy),this.pageCurlMatInstance.setProperty("uResolutionX",this.winWidth),this.pageCurlMatInstance.setProperty("uResolutionY",this.winHeight),this.pageCurlMatInstance.setProperty("uRadius",.04)}}this.curlMatApplied}},e.prototype.onTouchStart=function(t){this.playingFlipPageAnimation||0===t.touch.getID()&&(this.flipCurrentPage=!0,this.audioFlipPlayed=!1,this.reachFlipDistance=!1,this.pointerStartPosx=t.getLocation().x,this.pointerStartPosy=t.getLocation().y,this.pointerCurrentPosx=this.pointerStartPosx,this.pointerCurrentPosy=this.pointerStartPosy,this.pointerStartPosxSym=this.winWidth-this.pointerStartPosx,this.pointerCurrentPosxSym=this.winWidth-this.pointerCurrentPosx,this.pointerStartPosx>=this.winWidth/2?this.flipDirection="forward":this.flipDirection="backward")},e.prototype.onTouchLeave=function(t){var e=this;if(!this.playingFlipPageAnimation&&this.curlMatApplied){if(this.playingFlipPageAnimation=!0,"forward"===this.flipDirection){var i=this.pointerCurrentPosx-this.pointerStartPosx;(r=Math.round(10*(1-Math.abs(i)/(.5*this.winWidth)))/10*.6)<.2&&(r=.2);var n={startPosx:this.pointerStartPosx,startPosy:this.pointerStartPosy,currentPosx:this.pointerCurrentPosx,currentPosy:this.pointerCurrentPosy,radius:this.radius};if(i<-50)(o=s.default.timeline()).to(n,{startPosx:this.winWidth,startPosy:this.winHeight/2,currentPosx:this.winWidth/2,currentPosy:this.winHeight/2,radius:1e-4,duration:t?.8:r,ease:t?"power1.inOut":"power1.out",callbackScope:this,onUpdate:function(){this.pageCurlMatInstance.setProperty("uStartPosx",n.startPosx),this.pageCurlMatInstance.setProperty("uStartPosy",n.startPosy),this.pageCurlMatInstance.setProperty("uPosx",n.currentPosx),this.pageCurlMatInstance.setProperty("uPosy",n.currentPosy),this.pageCurlMatInstance.setProperty("uRadius",n.radius)}}),o.call(function(){e.pageForward()});else(o=s.default.timeline()).to(n,{startPosx:this.pointerCurrentPosx-1,startPosy:this.pointerCurrentPosy,currentPosx:this.pointerCurrentPosx,currentPosy:this.pointerCurrentPosy,duration:.2,ease:"power1.out",callbackScope:this,onUpdate:function(){this.pageCurlMatInstance.setProperty("uStartPosx",n.startPosx),this.pageCurlMatInstance.setProperty("uStartPosy",n.startPosy),this.pageCurlMatInstance.setProperty("uPosx",n.currentPosx),this.pageCurlMatInstance.setProperty("uPosy",n.currentPosy)}}),o.call(function(){e.pageStayStill()})}if("backward"===this.flipDirection){var r;i=this.pointerCurrentPosxSym-this.pointerStartPosxSym;(r=Math.round(10*(1-Math.abs(i)/(.5*this.winWidth)))/10*.6)<.2&&(r=.2);var o,a={startPosx:this.pointerStartPosxSym,startPosy:this.pointerStartPosy,currentPosx:this.pointerCurrentPosxSym,currentPosy:this.pointerCurrentPosy,radius:this.radius};if(i<-50)(o=s.default.timeline()).to(a,{startPosx:this.winWidth,startPosy:this.winHeight/2,currentPosx:this.winWidth/2,currentPosy:this.winHeight/2,radius:1e-4,duration:r,ease:"power1.out",callbackScope:this,onUpdate:function(){this.pageCurlMatInstance.setProperty("uStartPosx",a.startPosx),this.pageCurlMatInstance.setProperty("uStartPosy",a.startPosy),this.pageCurlMatInstance.setProperty("uPosx",a.currentPosx),this.pageCurlMatInstance.setProperty("uPosy",a.currentPosy),this.pageCurlMatInstance.setProperty("uRadius",a.radius)}}),o.call(function(){e.pageBackward()});else(o=s.default.timeline()).to(a,{startPosx:this.pointerCurrentPosxSym-1,startPosy:this.pointerCurrentPosy,currentPosx:this.pointerCurrentPosxSym,currentPosy:this.pointerCurrentPosy,duration:.2,ease:"power1.out",callbackScope:this,onUpdate:function(){this.pageCurlMatInstance.setProperty("uStartPosx",a.startPosx),this.pageCurlMatInstance.setProperty("uStartPosy",a.startPosy),this.pageCurlMatInstance.setProperty("uPosx",a.currentPosx),this.pageCurlMatInstance.setProperty("uPosy",a.currentPosy)}}),o.call(function(){e.pageStayStill()})}}},e.prototype.stopCurrentPageState=function(){this.pages[this.currentPageNum].stopAudio(),this.pages[this.currentPageNum].killAnimations(),this.pages[this.currentPageNum].script&&"function"==typeof this.pages[this.currentPageNum].script.onPageLeave&&this.pages[this.currentPageNum].script.onPageLeave()},e.prototype.destroyCurrentPage=function(){this.stopCurrentPageState(),this.pages[this.currentPageNum].destroy(),cc.log("\u9500\u6bc1\u7b2c "+this.currentPageNum+" \u9875")},e.prototype.pageForward=function(){this.destroyCurrentPage(),this.pages[this.nextPageNum].node.parent=this.node,this.pages[this.nextPageNum].masterTimeline.play(),cc.log("\u6302\u8f7d\u7b2c "+this.nextPageNum+" \u9875"),this.playingFlipPageAnimation=!1,this.curlMatApplied=!1,this.reachFlipDistance=!1,this.flipCurrentPage=!1,this.isJumpingBook?(cc.log("isJumpingBook"),this.currentPageNum=this.pages[this.currentPageNum].nextPageNum,this.nextPageNum=this.pages[this.currentPageNum].nextPageNum,this.prevPageNum=this.pages[this.currentPageNum].prevPageNum):this.currentPageNum++,cc.log(this.prevPageNum,this.currentPageNum,this.nextPageNum)},e.prototype.pageBackward=function(){this.stopCurrentPageState(),this.pages[this.currentPageNum].destroy(),cc.log("\u9500\u6bc1\u7b2c "+this.currentPageNum+" \u9875"),this.pages[this.prevPageNum].node.parent=this.node,this.pages[this.prevPageNum].masterTimeline.play(),cc.log("\u6302\u8f7d\u7b2c "+this.prevPageNum+" \u9875"),this.playingFlipPageAnimation=!1,this.curlMatApplied=!1,this.reachFlipDistance=!1,this.flipCurrentPage=!1,this.isJumpingBook?(cc.log("isJumpingBook"),this.currentPageNum=this.pages[this.currentPageNum].prevPageNum,this.nextPageNum=this.pages[this.currentPageNum].nextPageNum,this.prevPageNum=this.pages[this.currentPageNum].prevPageNum):this.currentPageNum--},e.prototype.pageStayStill=function(){cc.log("pageStayStill"),this.playingFlipPageAnimation=!1,this.curlMatApplied=!1,this.reachFlipDistance=!1,this.flipCurrentPage=!1},e.prototype.openPage=function(t){this.createPage(t),this.pages[t].node.parent=this.node,this.pages[t].masterTimeline.play(),this.currentPageNum=t},e.prototype.createPage=function(t){t>this.pages.length-1||t<0||(cc.log("\u9884\u52a0\u8f7d\u7b2c "+t+" \u9875"),this.pages[t].create())},e.prototype._createTexturePage=function(t){return t<0||t>this.pages.length-1?null:this.pages[t].createPageContent()},e.prototype._needGeneratePageTexture=function(t){return!(t<0||t>this.pages.length-1)&&(null===this.pages[t].texture||void 0===this.pages[t].texture)},e.prototype.lerpPosy=function(t){var e=2*this.winHeight,i=(e-0)/(0-this.winWidth/2);return i*t+(e-0*i)},e.prototype.lerpRadius=function(t){var e=this.winWidth,i=.03/(e-this.winWidth/2),n=.04-i*e;return i*t+n>.01?i*t+n:.01},e.prototype.lerpScrollDist=function(t){var e=this.winWidth,i=this.winWidth/2,n=(.5-this.lerpY2(this.winWidth/this.winHeight))/(e-i);return n*t+(.5-n*e)},e.prototype.lerpY2=function(t){var e=.01804619826756491;return e*t+.4358993022136671},e.prototype.lerpAutoFlipHeight=function(t){var e=.4210779595765158;return e*t-.21234961501443683},e.prototype.closeBook=function(){var t=this,e=this.node.parent.getComponent("BookWrap"),i=this.node.parent.getChildByName("coverWrap"),n=i.getChildByName("coverBackWhite"),r=i.getChildByName("cover"),o=s.default.timeline({onComplete:function(){cc.log("closeBook"),t.stopCurrentPageState(),cc.audioEngine.stop(t.currentPlayingBgmID),t.timerIdArr.forEach(function(t){clearTimeout(t)}),t.node.destroy(),i.resumeSystemEvents(!0),e.playBgm()}});o.to(this.node,{opacity:0,duration:.5,ease:"none"}),o.addLabel("close"),o.to(i,{scale:1,duration:1}),o.to(i,{x:-i.width/2,duration:1},"close"),o.to(n,{scaleX:0,duration:.4},"close"),o.to(r,{scaleX:1,duration:.4},">")},r([g({tooltip:"\u4e66\u7684\u540d\u5b57\uff0c\u5173\u7cfb\u5230\u8d44\u6e90\u7684\u52a0\u8f7d\uff0c\u8bf7\u786e\u4fdd\u586b\u5199\u6b63\u786e~"})],e.prototype,"bookName",void 0),r([g({tooltip:"\u6307\u5b9a\u6253\u5f00\u7b2c\u51e0\u9875\uff0c\u6d4b\u8bd5\u7528\u3002"})],e.prototype,"showPage",void 0),r([g({tooltip:"\u603b\u9875\u6570"})],e.prototype,"totalPages",void 0),r([g(cc.Material)],e.prototype,"pageCurlMaterial",void 0),r([g(cc.Prefab)],e.prototype,"pageuiPrefab",void 0),r([g(cc.Prefab)],e.prototype,"cloudDialog",void 0),r([g(cc.Prefab)],e.prototype,"btmDialog",void 0),r([g(cc.Prefab)],e.prototype,"pointIndicator",void 0),r([g(cc.Prefab)],e.prototype,"sliderIndicator",void 0),r([g({type:cc.AudioClip})],e.prototype,"audioFlipPage",void 0),r([g({type:cc.AudioClip})],e.prototype,"audioTest",void 0),e=r([d],e)}(cc.Component);i.default=y,cc._RF.pop()},{"../scripts/utils":"utils","./Loader":"Loader","./Page":"Page","./TextureCamera":"TextureCamera","./prefabPool":"prefabPool",gsap:2}],BtmDialog:[function(t,e,i){"use strict";cc._RF.push(e,"b3ec8f8UPNEq5qonFOxO672","BtmDialog");var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.isBtmDialog=!0,o.selectBtmDialog(),o.resize(),o.calculateScrollPoints(),o.createWordTrace(),o.setMaterial(),o}return n(e,t),e.prototype.selectBtmDialog=function(){"BtmDialog"===this.node.name?this.initCommonBtmDialog():"BtmDialog_weather"===this.node.name&&this.initWeatherBtmDialog()},e.prototype.initCommonBtmDialog=function(){this.round=this.bgMid.getChildByName("round"),this.round2=this.bgMid.getChildByName("round2"),this.round.x=163,this.round2.x=113,this.maskPosX=270,this.maskPosXWithMaxWidth=290,this.dialogTotalHeight=165},e.prototype.initWeatherBtmDialog=function(){this.maskPosX=250,this.maskPosXWithMaxWidth=250,this.dialogTotalHeight=330},e.prototype.resize=function(){var t,e,i,n;this.subtitle.maxWidth?(t=cc.winSize.width,e=-cc.winSize.width/2,i=this.maskPosX,n=t-360,cc.winSize.width>this.subtitle.maxWidth&&(t=this.subtitle.maxWidth,e=-this.subtitle.maxWidth/2,n=t-360)):(t=cc.winSize.width,e=-cc.winSize.width/2,i=this.maskPosXWithMaxWidth,n=t-360),this.node.width=t,this.node.x=e,this.node.y=-cc.winSize.height/2,this.mask.width=n,this.mask.x=i,this.text.width=this.mask.width,this.wordPerDialog=2*Math.floor(this.text.width/this.fontSize),this.wordPerLine=Math.floor(this.text.width/this.fontSize),this.text.height=Math.ceil(this.content.length/this.wordPerLine)*this.label.lineHeight+this.label.lineHeight},e}(t("./Dialog").default);i.default=r,cc._RF.pop()},{"./Dialog":"Dialog"}],CloudDialog:[function(t,e,i){"use strict";cc._RF.push(e,"91b39lrIGtFOJqPtRD+MXsY","CloudDialog");var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.isBtmDialog=!1,o.bgBtm=o.node.getChildByName("bgBtm"),o.selectBg(),o.resize(),o.reposition(),o.calculateScrollPoints(),o.createWordTrace(),o.setMaterial(),o}return n(e,t),e.prototype.selectBg=function(){"cloudDialog"===this.node.name||"cloudDialogM"===this.node.name||"cloudDialogS"===this.node.name?"btm"===this.subtitle.direction?this.bgMid&&(this.bgMid.active=!1):this.bgBtm&&(this.bgBtm.active=!1):this.node.name},e.prototype.resize=function(){"CloudDialog_weather"===this.node.name||(this.content.length<=10?(cc.log("1"),this.bgMid&&this.bgMid.setScale(.5),this.bgBtm&&this.bgBtm.setScale(.5),this.mask.width=140,this.mask.height=68,this.text.width=this.mask.width,this.text.height=this.mask.height,this.mask.x=-66,this.wordPerDialog=10,this.wordPerLine=5,this.content.length<=5?this.mask.y=19:this.mask.y=37):this.content.length<=24?(cc.log("2"),this.bgMid&&this.bgMid.setScale(.75,.7),this.bgBtm&&this.bgBtm.setScale(.75,.7),this.mask.width=224,this.mask.height=108,this.text.width=this.mask.width,this.text.height=this.mask.height,this.wordPerDialog=24,this.wordPerLine=8,this.mask.x=-110,this.mask.y=58):(cc.log("3"),this.bgMid&&this.bgMid.setScale(1,1.1),this.bgBtm&&this.bgBtm.setScale(1,1.1),this.text.width=280,this.wordPerDialog=50,this.wordPerLine=10,this.text.height=Math.ceil(this.content.length/this.wordPerLine)*this.label.lineHeight+this.label.lineHeight))},e.prototype.reposition=function(){"CloudDialog_weather"===this.node.name||(this.node.x=this.subtitle.x,this.node.y=this.subtitle.y,this.subtitle.flipx&&(this.bgMid&&(this.bgMid.scaleX*=-1),this.bgBtm&&(this.bgBtm.scaleX*=-1)))},e}(t("./Dialog").default);i.default=r,cc._RF.pop()},{"./Dialog":"Dialog"}],Dialog:[function(t,e,i){"use strict";cc._RF.push(e,"bcd6dPDDN5Ir70Cm7uBFMjZ","Dialog"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("gsap"),r=function(){function t(t,e,i,n){this.node=cc.instantiate(t),this.subtitle=e,this.audio=i,this.parent=n,this.content=e.content,this.trace=e.trace,this.bgMid=this.node.getChildByName("bgMid"),this.mask=this.node.getChildByName("mask"),this.text=this.mask.getChildByName("text"),this.label=this.text.getComponent(cc.Label),this.fontSize=this.label.fontSize,this.totalWord=this.label.string.length,this.dialogText=[],this.scrollPoints=null,this.regex_divide=/\uff0c|\u3002|\u3001|\uff1f|\uff01|\,|\.|\?|\!|\uff1a/g,this.regex_ignore=/\uff0c|\u3002|\u3001|\uff1f|\uff01|\,|\.|\?|\!|\uff1a|\u3010|\u3011/g,this.label.string=e.content,this.isPlayingAudio=!1,this.earlyScroll=!1,this.origTextY=this.text.y}return t.prototype.createWordTrace=function(){var t=this,e=[0],i=[],n=[];this.wordList=this.content.split(""),this.wordList.forEach(function(i,n){i.match(t.regex_divide)&&(e.push(n),e.push(n+1))}),e.pop(),this.wordList.length>0&&0===e.length&&(e.push(0),e.push(this.wordList.length));for(var r=0;r<e.length/2;r++)i.push(e[2*r+1]-e[2*r]);var o=this.trace;for(r=0;r<i.length;r++)for(var a=e[2*r];a<=e[2*r+1];a++)n[a]=o[2*r]+(o[2*r+1]-o[2*r])/i[r]*(a-e[2*r]);this.wordTrace=n},t.prototype.createTimeline=function(t){var e=this;this.node.opacity=0,this.node.parent=this.parent.node,this.audioLength=this.trace[this.trace.length-1]/1e3;var i=n.default.timeline({paused:t});return this.isBtmDialog?(this.node.y=-cc.winSize.height/2-this.dialogTotalHeight,i.set(this.node,{opacity:255}),i.to(this.node,{y:-cc.winSize.height/2,delay:.2,duration:1}),i.call(function(){e.audio&&e.playAudio()}),i.to(this.node,{y:-cc.winSize.height/2-this.dialogTotalHeight,duration:1,delay:this.audioLength+.5})):(i.to(this.node,{opacity:255,duration:1}),i.call(function(){e.audio&&e.playAudio()}),i.to(this.node,{opacity:0,duration:1,delay:this.audioLength+.5}),i.call(function(){e.destroy()})),i},t.prototype.playAudio=function(){this.audioID=cc.audioEngine.play(this.audio,!1,2),this.parent.currentPlayingDialog=this,this.isPlayingAudio=!0,this.textScrollAndHighlight()},t.prototype.stopAudio=function(){cc.audioEngine.stop(this.audioID),this.resetPlayingTag(),this.resetHighlightMat()},t.prototype.resetPlayingTag=function(){this.isPlayingAudio=!1},t.prototype.resetHighlightMat=function(){this.uv=this.label._frame.uv;var t=Math.round(0/this.text.width*1e5)/1e5*(this.uv[6]-this.uv[0])+this.uv[0],e=Math.round(0/this.text.height*1e5)/1e5*(this.uv[1]-this.uv[7])+this.uv[7];this.mat.setProperty("puv",new cc.Vec2(t,e))},t.prototype.resetDialogPos=function(){this.node.y=-cc.winSize.height/2-this.dialogTotalHeight},t.prototype.textScrollAndHighlight=function(){var t=this,e=0,i=0,r=0,o=0,a=this.label.fontSize,s=0,u=0;this.text.y=this.origTextY;var c=function(){var h=1e3*cc.audioEngine.getCurrentTime(t.audioID);if(o||(o=h),t.isPlayingAudio){if(h-o>t.wordTrace[r]){if(t.wordList[r]&&!t.wordList[r].match(t.regex_ignore)){t.uv=t.label._frame.uv;var l=Math.round(a/t.text.width*1e5)/1e5*(t.uv[6]-t.uv[0])+t.uv[0],p=Math.round(s/t.text.height*1e5)/1e5*(t.uv[1]-t.uv[7])+t.uv[7];if(t.mat.setProperty("puv",new cc.Vec2(l,p)),!t.setCharuv){var f=Math.round(t.label.fontSize/t.text.width*1e5)/1e5,d=Math.round(t.label.lineHeight/t.text.height*1e5)/1e5;t.mat.setProperty("charuv",new cc.Vec2(f*(t.uv[6]-t.uv[0]),d*(t.uv[1]-t.uv[7])))}var g={alpha:1};n.default.to(g,{alpha:.4,duration:.5,ease:"none",onUpdate:function(){t.mat.setProperty("ualpha",g.alpha)}})}r++,a+=t.label.fontSize,t.wordList[r+1]&&r===(i+1)*t.wordPerLine-1-u&&t.wordList[r+1].match(t.regex_divide)&&(a=t.label.fontSize,s+=t.label.lineHeight,i++,u++,t.earlyScroll=!0),r>=(i+1)*t.wordPerLine-u&&(a=t.label.fontSize,s+=t.label.lineHeight,i++)}if(t.scrollPoints&&r>t.scrollPoints[e]){if(e===t.scrollPoints.length-1&&!t.earlyScroll)return;n.default.to(t.text,{y:t.text.y+t.label.lineHeight,duration:.5,ease:"power1.out"}),e++}requestAnimationFrame(c)}};c()},t.prototype.isPunctuation=function(t){return null!==t.match(this.regex_ignore)},t.prototype.calculateScrollPoints=function(){if(!(this.content.length<=this.wordPerDialog)){var t=Math.ceil((this.content.length-this.wordPerDialog)/this.wordPerLine),e=this.wordPerDialog-1;if(this.scrollPoints=[e],t>1)for(var i=1;i<t;i++)this.scrollPoints.push(e+i*this.wordPerLine);this.scrollPoints.push(this.scrollPoints[this.scrollPoints.length-1]+this.wordPerLine)}},t.prototype.setMaterial=function(){this.mat=this.label.getMaterial(0)},t.prototype.destroy=function(){cc.log("dialog destroyed!"),this.resetPlayingTag(),this.node.destroy()},t}();i.default=r,cc._RF.pop()},{gsap:2}],LoadManager:[function(t,e,i){"use strict";cc._RF.push(e,"90043COZVRBfLzl9JREGlil","LoadManager"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this._isLoading=!1,this._resArray=[]}return t.getInstance=function(){return null==t._singleInstance&&(t._singleInstance=new t),t._singleInstance},t.prototype.getResName=function(){return this._resArray.shift()},t.prototype.isLoading=function(){return this._isLoading},t.prototype.finishLoaded=function(){this._isLoading=!1},t.prototype.allLoaded=function(){return this._resArray.length<=0},t._singleInstance=null,t}();i.LoadManager=n;var r=function(){function t(){}return t.prototype.update=function(){var t=n.getInstance();if(!t.allLoaded()&&!t.isLoading()){t.getResName();t.finishLoaded()}},t}();i.AClass=r,cc._RF.pop()},{}],Loader:[function(t,e,i){"use strict";cc._RF.push(e,"5d623nNBuxNGqUpCpPzvQZS","Loader"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,r=(n.ccclass,n.property,function(){function t(){}return t.prototype.loadPrefabDir=function(t){return new Promise(function(e,i){cc.loader.loadResDir(t,function(t,i){t&&cc.error("Prefabs failed to load"),e(i)})})},t.prototype.loadPrefab=function(t){return new Promise(function(e,i){cc.loader.loadRes(t,function(i,n){i&&cc.error("Prefabs failed to load, path: "+t),e(n)})})},t.prototype.loadJSON=function(t){return new Promise(function(e,i){cc.loader.loadRes(t,function(t,i){t&&cc.error("JSON failed to load"),e(i.json)})})},t.prototype.loadAudio=function(t){return new Promise(function(e,i){cc.loader.loadRes(t,cc.AudioClip,function(i,n){i?(cc.error("audio "+t+" failed to load"),e(null)):e(n)})})},t.prototype.loadSprite=function(t){return new Promise(function(e,i){cc.loader.loadRes(t,cc.SpriteFrame,function(i,n){i&&cc.error("sprite "+t+" failed to load"),e(n)})})},t.prototype.start=function(){},t}());i.default=r,cc._RF.pop()},{}],MyMath:[function(t,e,i){"use strict";cc._RF.push(e,"c2a52d8LbBEf79K039LiNCd","MyMath"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.random=function(t){return this.randomSeed=(9301*this.randomSeed+49297)%233280,Math.floor(this.randomSeed/233280*t)},t.pointDistance=function(t,e){var i=(t.x-e.x)*(t.x-e.x),n=(t.y-e.y)*(t.y-e.y);return Math.sqrt(i+n)},t.bezierLength2=function(t,e,i,n,r,o){for(var a=0,s=0,u=0,c=0,h=0,l=0,p=0,f=0,d=0,g=0,y=t,m=e,v=1;v<=10;++v)d=y-(p=(l=(h=c=1-(s=v/10))*c)*t+2*h*s*i+(u=s*s)*r),g=m-(f=l*e+2*h*s*n+u*o),y=p,m=f,a+=Math.sqrt(d*d+g*g);return a},t.bezierLength3=function(t,e,i,n,r,o,a,s){for(var u=0,c=0,h=0,l=0,p=0,f=0,d=0,g=0,y=0,m=0,v=0,_=t,x=e,P=1;P<=10;++P)m=_-(g=(d=(f=(p=1-(c=P/10))*p)*p)*t+3*f*c*i+3*p*(h=c*c)*r+(l=h*c)*a),v=x-(y=d*e+3*f*c*n+3*p*h*o+l*s),_=g,x=y,u+=Math.sqrt(m*m+v*v);return u},t.bezier2To=function(e,i,n,r,o,a){var s=[],u=t.bezierLength2(e,i,n,r,o,a),c=0,h=0,l=0,p=0;s[s.length]=cc.v2(e,i);for(var f=1,d=0;f<=u;++f)l=(h=c=1-(d=f/u))*c,p=d*d,s[s.length]=cc.v2(l*e+2*h*d*n+p*o,l*i+2*h*d*r+p*a);return s},t.bezier3To=function(e,i,n,r,o,a,s,u){var c=[],h=t.bezierLength3(e,i,n,r,o,a,s,u),l=0,p=0,f=0,d=0,g=0;c[c.length]=cc.v2(e,i);for(var y=1,m=0;y<=h;++y)f=(p=(l=1-(m=y/h))*l)*l,g=(d=m*m)*m,c[c.length]=cc.v2(f*e+3*p*m*n+3*l*d*o+g*s,f*i+3*p*m*r+3*l*d*a+g*u);return c},t.rand=function(t,e){return~~(Math.random()*(e-t+1)+t)},t.randomSeed=0,t}();i.MyMath=n,cc._RF.pop()},{}],MyTools:[function(t,e,i){"use strict";cc._RF.push(e,"71405n8FthNxo/4a88bgZLz","MyTools"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.isValid=function(t){return null!==t&&void 0!==t},t.hitTest=function(t,e,i,n,r,o,a,s){return!(t+i<r||r+a<t||e+n<o||o+s<e)},t.createTipBtn=function(t){var e=cc.instantiate(t.parent.parent.tipBtnPrefab);return e.parent=t.parent.node,e},t.createTipUI=function(t){var e=cc.instantiate(t.parent.parent.tipPrefab);return e.parent=t.parent.node,e.x=0,e.y=0,e},t.isValidTip=function(e){var i=!1;if(t.isValid(e.parent)){var n=e.parent.tips;t.isValid(n)&&(i=!0)}return i},t.assemTips=function(e){var i="";if(t.isValid(e.parent)){var n=e.parent.tips;if(t.isValid(n))for(var r=0;r<n.length;r++){var o=n[r],a=o.title,s=o.content;i+=t.assemTitle(a),i+=t.assemContent(s),r<n.length-1&&(i+=t.assemEmptyLine(),i+=t.assemEmptyLine())}}return i},t.assemTitle=function(t,e){return void 0===e&&(e=18),"<color=#222222><size="+e+"><b>"+t+"\n</b></size></color>"},t.assemContent=function(t,e){return void 0===e&&(e=18),"<color=#656565><size="+e+">"+t+"</size></color>"},t.assemEmptyLine=function(){return"<br/>"},t}();i.MyTools=n,cc._RF.pop()},{}],NativeUtils:[function(t,e,i){"use strict";cc._RF.push(e,"2291cgaSB1GYa0vRs4Fb+Ob","NativeUtils");var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator.ccclass,a=null,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._utilObj=null,e}var i;return n(e,t),i=e,Object.defineProperty(e,"instance",{get:function(){return null==a&&(a=new i),a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"utilObj",{get:function(){return this._utilObj||(this._utilObj=new ns.NativeUtilsJSBind,ns.NativeUtilsJSBind.static_func()),this._utilObj},enumerable:!0,configurable:!0}),e.prototype.startAudioDecibel=function(t){!cc.sys.isNative||cc.sys.os!=cc.sys.OS_IOS&&cc.sys.os!=cc.sys.OS_ANDROID||this._startAudioDecibelJSB(t)},e.prototype._startAudioDecibelJSB=function(t){console.log("\u5b9e\u65f6\u68c0\u6d4b\u8ba1\u7b97\u58f0\u97f3\u5206\u8d1d");var e={onCallback:function(e){console.log("\u58f0\u97f3\u5206\u8d1d\u503c\u4e3a\uff1a",e),t&&t(e)}.bind(this)};this.utilObj.setNumberCallback(e.onCallback,e),this.utilObj.startAudioDecibel()},e.prototype.stopAudio=function(){!cc.sys.isNative||cc.sys.os!=cc.sys.OS_IOS&&cc.sys.os!=cc.sys.OS_ANDROID||this.utilObj.stopAudioRecord()},e.prototype.audioUpdate=function(){!cc.sys.isNative||cc.sys.os!=cc.sys.OS_IOS&&cc.sys.os!=cc.sys.OS_ANDROID||this.utilObj.audioUpdate()},e=i=r([o],e)}(cc.Component);i.NativeUtils=s,cc._RF.pop()},{}],Page:[function(t,e,i){"use strict";cc._RF.push(e,"ae6bfozSaxGxbCwdBoCIuzb","Page"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("gsap"),r=t("./utils"),o=t("./CloudDialog"),a=t("./BtmDialog"),s=t("./Ani"),u=function(){function t(t){this.contentPrefab=t,this.name=t.name,this.gsapAnimations=[],this.dialogs=[],this.audioClips=[],this.loopAudioIDs=[],this.ignoreBtmDialog=!0,this.ignoreCloudDialog=!1,this.useTestDialog=!1,this.dialogTl=[],this.isFirstOpen=!0}return t.prototype.setNextPageOfBook=function(t){this.nextPageNum=t,this.parent.nextPageNum=t},t.prototype.createPageContent=function(){var t=new cc.Node(""+this.name),e=this.initPrefab(this.contentPrefab);return e.parent=t,e.getComponent(this.name).parent=this,t},t.prototype.create=function(){var t=this;this.node=new cc.Node(""+this.name);var e=new cc.Node("content_"+this.name);e.parent=this.node,this.content=this.initPrefab(this.contentPrefab),this.content.parent=e,this.script=this.content.getComponent(this.name),this.script.parent=this,this.ui=this.createUI(),this.ui.zIndex=1,this.ui.parent=this.node,this.createSubtitle(this.useTestDialog),this.masterTimeline=n.default.timeline({paused:!0}),this.dialogs.forEach(function(e,i){var n;t.manuallyPlaySubtitle?(n=e.createTimeline(!0),t.dialogTl.push(n)):(n=e.createTimeline(!1),t.masterTimeline.add(n))}),this.masterTimeline.addLabel("endOfDialog"),this.isChoosePage||this.script.sliderTimeline||(this.script.sliderTimeline=s.ani.getSliderTimeline(),this.masterTimeline.add(this.script.sliderTimeline)),this.script.pointerTimeline?this.masterTimeline.add(this.script.pointerTimeline,"0"):(this.script.pointerTimeline=s.ani.getPointerTimeline(),this.masterTimeline.add(this.script.pointerTimeline,"0"))},t.prototype.createTextureNode=function(){var t=new cc.Node(""+this.name),e=new cc.Node("content_"+this.name);return e.parent=t,this.initPrefab(this.contentPrefab).parent=e,t},t.prototype.createSubtitle=function(t){var e=this;if(t){[{dialog:"btm",manuallyPlaySubtitle:!0,content:"\u4f20\u8bf4\u53e4\u65f6\u501900000\uff0c\u5728\u8fbd\u9614\u7684\u4e1c\u6d77\u8fb9\uff0c\u6709\u4e00\u9897\u5de8\u5927\u7684\u6276\u6851\u6811\uff0c\u6811\u4e0a\u6816\u606f\u7740\u5341\u4e2a\u592a\u9633\u3002\u5176\u4e2d\u4e5d\u4e2a\u592a\u9633\u6816\u606f\u5728\u8f83\u77ee\u7684\u6811\u679d\u4e0a\uff0c\u53e6\u4e00\u4e2a\u592a\u9633\u5219\u6816\u606f\u5728\u6811\u68a2\u4e0a\u3002\u6bcf\u5f53\u9ece\u660e\u6765\u4e34\uff0c\u6816\u606f\u5728\u6811\u68a2\u4e0a\u7684\u592a\u9633\u5c31\u4f1a\u7a7f\u8d8a\u5929\u7a7a\uff0c\u7167\u5c04\u5927\u5730\uff0c\u628a\u5149\u548c\u70ed\u6d12\u6ee1\u4eba\u95f4\u3002",trace:[363,1914,2158,4271,4464,6823,7538,10696,12029,16202,16713,20308,21084,22832,23081,27135,27435,28677,29002,32161]},{dialog:"btm",manuallyPlaySubtitle:!0,content:"\u4f20\u8bf4\u53e4\u65f6\u501911111\uff0c\u5728\u8fbd\u9614\u7684\u4e1c\u6d77\u8fb9\uff0c\u6709\u4e00\u9897\u5de8\u5927\u7684\u6276\u6851\u6811\uff0c\u6811\u4e0a\u6816\u606f\u7740\u5341\u4e2a\u592a\u9633\u3002\u5176\u4e2d\u4e5d\u4e2a\u592a\u9633\u6816\u606f\u5728\u8f83\u77ee\u7684\u6811\u679d\u4e0a\uff0c\u53e6\u4e00\u4e2a\u592a\u9633\u5219\u6816\u606f\u5728\u6811\u68a2\u4e0a\u3002\u6bcf\u5f53\u9ece\u660e\u6765\u4e34\uff0c\u6816\u606f\u5728\u6811\u68a2\u4e0a\u7684\u592a\u9633\u5c31\u4f1a\u7a7f\u8d8a\u5929\u7a7a\uff0c\u7167\u5c04\u5927\u5730\uff0c\u628a\u5149\u548c\u70ed\u6d12\u6ee1\u4eba\u95f4\u3002",trace:[363,1914,2158,4271,4464,6823,7538,10696,12029,16202,16713,20308,21084,22832,23081,27135,27435,28677,29002,32161]},{dialog:"btm",manuallyPlaySubtitle:!0,content:"\u4f20\u8bf4\u53e4\u65f6\u501922222\uff0c\u5728\u8fbd\u9614\u7684\u4e1c\u6d77\u8fb9\uff0c\u6709\u4e00\u9897\u5de8\u5927\u7684\u6276\u6851\u6811\uff0c\u6811\u4e0a\u6816\u606f\u7740\u5341\u4e2a\u592a\u9633\u3002\u5176\u4e2d\u4e5d\u4e2a\u592a\u9633\u6816\u606f\u5728\u8f83\u77ee\u7684\u6811\u679d\u4e0a\uff0c\u53e6\u4e00\u4e2a\u592a\u9633\u5219\u6816\u606f\u5728\u6811\u68a2\u4e0a\u3002\u6bcf\u5f53\u9ece\u660e\u6765\u4e34\uff0c\u6816\u606f\u5728\u6811\u68a2\u4e0a\u7684\u592a\u9633\u5c31\u4f1a\u7a7f\u8d8a\u5929\u7a7a\uff0c\u7167\u5c04\u5927\u5730\uff0c\u628a\u5149\u548c\u70ed\u6d12\u6ee1\u4eba\u95f4\u3002",trace:[363,1914,2158,4271,4464,6823,7538,10696,12029,16202,16713,20308,21084,22832,23081,27135,27435,28677,29002,32161]},{dialog:"btm",manuallyPlaySubtitle:!0,content:"\u4f20\u8bf4\u53e4\u65f6\u501933333\uff0c\u5728\u8fbd\u9614\u7684\u4e1c\u6d77\u8fb9\uff0c\u6709\u4e00\u9897\u5de8\u5927\u7684\u6276\u6851\u6811\uff0c\u6811\u4e0a\u6816\u606f\u7740\u5341\u4e2a\u592a\u9633\u3002\u5176\u4e2d\u4e5d\u4e2a\u592a\u9633\u6816\u606f\u5728\u8f83\u77ee\u7684\u6811\u679d\u4e0a\uff0c\u53e6\u4e00\u4e2a\u592a\u9633\u5219\u6816\u606f\u5728\u6811\u68a2\u4e0a\u3002\u6bcf\u5f53\u9ece\u660e\u6765\u4e34\uff0c\u6816\u606f\u5728\u6811\u68a2\u4e0a\u7684\u592a\u9633\u5c31\u4f1a\u7a7f\u8d8a\u5929\u7a7a\uff0c\u7167\u5c04\u5927\u5730\uff0c\u628a\u5149\u548c\u70ed\u6d12\u6ee1\u4eba\u95f4\u3002",trace:[363,1914,2158,4271,4464,6823,7538,10696,12029,16202,16713,20308,21084,22832,23081,27135,27435,28677,29002,32161]}].forEach(function(t){var i=new a.default(e.btmDialog,t,e.parent.audioTest,e);e.dialogs.push(i)})}else this.subtitle.length!==this.audioClips.length&&cc.log(this.name+" \u7684\u5b57\u5e55\u4e0e\u97f3\u9891\u4e2a\u6570\u4e0d\u5339\u914d, \u5b57\u5e55\u4e2a\u6570:"+this.subtitle.length+", \u97f3\u9891\u4e2a\u6570: "+this.audioClips.length),this.subtitle.forEach(function(t,i){if("cloud"!==t.dialog||e.ignoreCloudDialog){if("btm"===t.dialog&&!e.ignoreBtmDialog){var n=new a.default(e.btmDialog,t,e.audioClips[i],e);e.dialogs.push(n)}}else{var r=new o.default(e.cloudDialog,t,e.audioClips[i],e);e.dialogs.push(r)}})},t.prototype.initPrefab=function(t){if(t)return cc.instantiate(t);cc.log("\u9884\u5236\u4f53\u4e0d\u5b58\u5728")},t.prototype.createUI=function(){var t=this,e=this.initPrefab(this.uiPrefab),i=e.getChildByName("homeBtn");i.zIndex=1,i.on("touchend",function(){cc.log("homeBtn on "+t.name),t.parent.closeBook()});var n=new cc.Node("blank");return n.zIndex=2,n.parent=e,this.blankSp=n.addComponent(cc.Sprite),this.blankSp.spriteFrame=r.utils.getBlankSpriteFrame(),e},t.prototype.killAnimations=function(){this.script&&this.script.gsapAnimations&&(this.gsapAnimations=this.script.gsapAnimations),this.gsapAnimations.forEach(function(t){t&&t.kill()}),this.dialogTl.forEach(function(t){t&&t.kill()}),this.node.stopAllActions(),this.masterTimeline.kill()},t.prototype.destroy=function(){this.node.destroy(),this.node=null,this.content=null,this.gsapAnimations=[],this.dialogs=[],this.dialogTl=[]},t.prototype.stopAudio=function(){var t=this;this.script&&this.script.loopAudioIDs&&(this.script.loopAudioIDs.forEach(function(e){t.loopAudioIDs.push(e)}),this.loopAudioIDs.forEach(function(t){cc.audioEngine.stop(t)})),this.currentPlayingDialog&&(cc.audioEngine.stop(this.currentPlayingDialog.audioID),this.currentPlayingDialog.isPlayingAudio=!1)},t.prototype.firstOpen=function(t){this.isFirstOpen?(t.opacity=0,s.ani.tl({},this).to(t,{opacity:255,duration:1}),this.isFirstOpen=!1):t.opacity=255},t}();i.default=u,cc._RF.pop()},{"./Ani":"Ani","./BtmDialog":"BtmDialog","./CloudDialog":"CloudDialog","./utils":"utils",gsap:2}],TextureCamera:[function(t,e,i){"use strict";cc._RF.push(e,"98da930z35HvZYSsoZ9RA8B","TextureCamera");var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,a=o.ccclass,s=o.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textureCamera=null,e}var i;return n(e,t),i=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){i._instance=this,this.width=0,this.height=0,this.canvas=cc.find("Canvas"),this.designWidth=this.canvas.getComponent(cc.Canvas).designResolution.width,this.designHeight=this.canvas.getComponent(cc.Canvas).designResolution.height},e.prototype.generateTexture=function(t,e){e.group="textureCapture",e.parent=this.canvas,this.rt=new cc.RenderTexture,this.rt.initWithSize(cc.winSize.width,cc.winSize.height),this.textureCamera.targetTexture=this.rt,this.textureCamera.render(e),t.texture=this.rt,e.group="default",e.parent=null,e.destroy(),e=null},e.prototype.generateTextureWithMask=function(t,e,i){t.group="textureCapture",this.textureCamera.node.x=t.x,this.textureCamera.node.y=t.y;var n=cc.game._renderContext;return this.rt=new cc.RenderTexture,this.rt.initWithSize(e,i,n.STENCIL_INDEX8),this.textureCamera.targetTexture=this.rt,this.textureCamera.render(t),t.group="default",this.textureCamera.node.x=0,this.textureCamera.node.y=0,this.rt},e._instance=null,r([s(cc.Camera)],e.prototype,"textureCamera",void 0),e=i=r([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{}],Tip:[function(t,e,i){"use strict";cc._RF.push(e,"021587glFBHCIokbXVniGz7","Tip");var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var o=t("gsap"),a=cc._decorator,s=a.ccclass,u=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioTip=null,e}return n(e,t),e.prototype.start=function(){this.tipBoard=this.node.getChildByName("tipBoard"),this.mask=this.tipBoard.getChildByName("mask"),this.text=this.mask.getChildByName("text"),this.label=this.text.getComponent(cc.Label),this.fontSize=this.label.fontSize,this.totalWord=this.label.string.length,this.content=this.label.string,this.trace=[363,1914,2158,4271,4464,6823,7538,10696,12029,16202,16713,20308,21084,22832,23081,27135,27435,28677,29002,32161],this.dialogText=[],this.scrollPoints=null,this.regex_divide=/\uff0c|\u3002|\u3001|\uff1f|\uff01|\,|\.|\?|\!|\uff1a/g,this.regex_ignore=/\uff0c|\u3002|\u3001|\uff1f|\uff01|\,|\.|\?|\!|\uff1a|\u3010|\u3011/g,this.isPlayingAudio=!1,this.earlyScroll=!1,this.wordPerDialog=4*Math.floor(this.text.width/this.fontSize),this.wordPerLine=Math.floor(this.text.width/this.fontSize),this.text.height=Math.ceil(this.content.length/this.wordPerLine)*this.label.lineHeight+this.label.lineHeight,this.calculateScrollPoints(),this.createWordTrace(),this.setMaterial()},e.prototype.createWordTrace=function(){var t=this,e=[0],i=[],n=[];this.wordList=this.content.split(""),this.wordList.forEach(function(i,n){i.match(t.regex_divide)&&(e.push(n),e.push(n+1))}),e.pop();for(var r=0;r<e.length/2;r++)i.push(e[2*r+1]-e[2*r]);var o=this.trace;for(r=0;r<i.length;r++)for(var a=e[2*r];a<=e[2*r+1];a++)n[a]=o[2*r]+(o[2*r+1]-o[2*r])/i[r]*(a-e[2*r]);this.wordTrace=n},e.prototype.playAudio=function(){this.audioID=cc.audioEngine.play(this.audioTip,!1,2),this.isPlayingAudio=!0,this.textScrollAndHighlight()},e.prototype.textScrollAndHighlight=function(){var t=this,e=0,i=0,n=0,r=0,a=this.label.fontSize,s=0,u=0,c=function(){var h=1e3*cc.audioEngine.getCurrentTime(t.audioID);if(r||(r=h),t.isPlayingAudio){if(h-r>t.wordTrace[n]){if(!t.wordList[n].match(t.regex_ignore)){t.uv=t.label._frame.uv;var l=Math.round(a/t.text.width*1e5)/1e5*(t.uv[6]-t.uv[0])+t.uv[0],p=Math.round(s/t.text.height*1e5)/1e5*(t.uv[1]-t.uv[7])+t.uv[7];if(t.mat.setProperty("puv",new cc.Vec2(l,p)),!t.setCharuv){var f=Math.round(t.label.fontSize/t.text.width*1e5)/1e5,d=Math.round(t.label.lineHeight/t.text.height*1e5)/1e5;t.mat.setProperty("charuv",new cc.Vec2(f*(t.uv[6]-t.uv[0]),d*(t.uv[1]-t.uv[7])))}var g={alpha:1};o.default.to(g,{alpha:.4,duration:.5,ease:"none",onUpdate:function(){t.mat.setProperty("ualpha",g.alpha)}})}n++,a+=t.label.fontSize,t.wordList[n+1]&&n===(i+1)*t.wordPerLine-1-u&&t.wordList[n+1].match(t.regex_divide)&&(a=t.label.fontSize,s+=t.label.lineHeight,i++,u++,t.earlyScroll=!0),n>=(i+1)*t.wordPerLine-u&&(a=t.label.fontSize,s+=t.label.lineHeight,i++)}if(t.scrollPoints&&n>t.scrollPoints[e]){if(e===t.scrollPoints.length-1&&!t.earlyScroll)return;o.default.to(t.text,{y:t.text.y+t.label.lineHeight,duration:.5,ease:"power1.out"}),e++}requestAnimationFrame(c)}};c()},e.prototype.isPunctuation=function(t){return null!==t.match(this.regex_ignore)},e.prototype.calculateScrollPoints=function(){if(!(this.content.length<=this.wordPerDialog)){var t=Math.ceil((this.content.length-this.wordPerDialog)/this.wordPerLine),e=this.wordPerDialog-1;if(this.scrollPoints=[e],t>1)for(var i=1;i<t;i++)this.scrollPoints.push(e+i*this.wordPerLine);this.scrollPoints.push(this.scrollPoints[this.scrollPoints.length-1]+this.wordPerLine)}},e.prototype.setMaterial=function(){this.mat=this.label.getMaterial(0)},r([u({type:cc.AudioClip})],e.prototype,"audioTip",void 0),e=r([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{gsap:2}],arrow_page11:[function(t,e,i){"use strict";cc._RF.push(e,"fae19S9wsNA65hHZR6Gosxq","arrow_page11");(function(t){t&&t.__esModule})(t("gsap"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.sun=this.node.parent.parent.getChildByName("Sun"),this.hitted=!1},onCollisionEnter:function(t,e){if("arrow"!==t.node.name&&!this.hitted){var i=t.node,n=e.node;e.node.hit=!0;var r=e.node.angle;this.hitted=!0,this.node.parent.totalSun-=1,t.destroy(),1===this.node.parent.totalSun&&this.sun.children.forEach(function(e){e!==t.node&&e.removeComponent(cc.CircleCollider)}),cc.tween(n).to(.02,{angle:r+6}).to(.03,{angle:r-6}).to(.04,{angle:r+4}).to(.05,{angle:r-1}).to(.06,{angle:r}).call(function(){cc.tween(n).to(.8,{opacity:0},{easing:"sineOut"}).start(),cc.tween(i).to(1,{opacity:0},{easing:"linear"}).start()}).start()}}}),cc._RF.pop()},{gsap:2}],houyi_db_page11:[function(t,e,i){"use strict";cc._RF.push(e,"70daeCqzMlFAohxEycAhlVH","houyi_db_page11"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},update:function(t){}}),cc._RF.pop()},{}],hysr_page11:[function(t,e,i){"use strict";cc._RF.push(e,"a12f6TCir5K3ZHM9VE0l9dt","hysr_page11");var n=function(t){return t&&t.__esModule?t:{default:t}}(t("gsap")),r=t("../../../common/scripts/Ani");cc.Class({extends:cc.Component,properties:{touchArea:{default:null,type:cc.Node},maskArm:{default:null,type:cc.Node},wave1:{default:null,type:cc.Node},wave2:{default:null,type:cc.Node},wave3:{default:null,type:cc.Node},bgmSound:{default:null,type:cc.AudioClip},drawSound:{default:null,type:cc.AudioClip},shotSound:{default:null,type:cc.AudioClip},hitSound:{default:null,type:cc.AudioClip},bowString:{default:null,type:cc.Graphics},arrowPrefab:{default:null,type:cc.Prefab},arm:{default:null,type:cc.Node},houyi:{default:null,type:cc.Node},sun1:{default:null,type:cc.Node},sun2:{default:null,type:cc.Node},sun3:{default:null,type:cc.Node},sun4:{default:null,type:cc.Node},sun5:{default:null,type:cc.Node},sun6:{default:null,type:cc.Node},sun7:{default:null,type:cc.Node},sun8:{default:null,type:cc.Node},sun9:{default:null,type:cc.Node},sun10:{default:null,type:cc.Node},isPlayingShootingAnimation:cc.Boolean},playAnimation:function(){this.wave1.getComponent(cc.Animation).play("wave1",.6),this.wave2.getComponent(cc.Animation).play("wave2",.3),this.wave3.getComponent(cc.Animation).play("wave3")},onLoad:function(){},start:function(){var t=this;this.houyi.totalSun=10,this.maskArm.active=!0,this.touchArea.zIndex=10,this.playAnimation(),r.ani.playBGM(this.bgmSound,!0,.2,this),cc.director.getCollisionManager().enabled=!0,this.ww=1644,this.wh=750,this.bowString.zIndex=1,this.arm.zIndex=3,this.heroX=this.houyi.x,this.heroY=this.houyi.y,this.release=!1,this.ready=!0,this._armatureDisplay=this.houyi.getComponent(dragonBones.ArmatureDisplay),this._armature=this._armatureDisplay.armature(),this.ik=this._armature.getBone("ikArm"),this.bow=this._armature.getBone("bow"),this.head=this._armature.getBone("head"),this.upperArm=this._armature.getBone("upperArm"),this.lowerArm=this._armature.getBone("lowerArm"),this.upperBody=this._armature.getBone("upperBody");var e,i,o,a,s,u,c=r.ani.addSliderEvent(this.node,new cc.Vec2(-325,-88),new cc.Vec2(-530,-150),this),h=!1,l=[this.sun1,this.sun2,this.sun3,this.sun4,this.sun5,this.sun6,this.sun7,this.sun8,this.sun9,this.sun10],p=[];l.forEach(function(t){p.push(t.getComponent(cc.CircleCollider))});var f=function(c){r.ani.addTouchEventWithoutIndicator(c.node,null,t,function(){if(!t.isPlayingShootingAnimation){t.release=!1,c.node.pauseSystemEvents(!0),l.forEach(function(t){var e=t.getComponent(cc.CircleCollider);e&&(e.enabled=!1)});var r=c.node.getComponent(cc.CircleCollider);r&&(r.enabled=!0),e=c.sx,i=c.sy;var h={x:c.sx,y:c.sy},p=n.default.timeline({onUpdate:function(){o=h.x,a=h.y,Math.atan2(a-i,o-e),s=(o-e)/4,u=(i-a)/20,s=Math.max(s,-38),s=Math.min(s,0),t.ik.offset.x=s,t.ik.offset.y=u,t.bow.offset.rotation=(i-a)/200,t.upperBody.offset.rotation=(i-a)/1e3,t.head.offset.rotation=(i-a)/1e3},onComplete:function(){Math.abs(s)>15?(cc.audioEngine.play(t.shotSound,!1,.5),t.release=!0,t.ik.offset.x-=2,t.ik.offset.y-=5,t.upperArm.offset.y=6,t.speed=Math.abs(s),t.shoting(),d=200):d=0,s=0,setTimeout(function(){cc.tween(t.upperArm.offset).to(.5,{y:0},{easing:"sineInOut"}).start(),cc.tween(t.bow.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.head.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.upperBody.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.ik.offset).to(.6,{x:0,y:0},{easing:"sineInOut"}).call(function(){t.isPlayingShootingAnimation=!1,l.forEach(function(t){var e=t.getComponent(cc.CircleCollider);e&&(e.enabled=!0)})}).start()},d)}});p.call(function(){t.isPlayingShootingAnimation=!0}),p.to(h,{x:c.ex,y:c.ey,duration:.5,ease:"sine.inOut"})}})};[{node:this.sun1,sx:502,sy:294,ex:318,ey:100},{node:this.sun2,sx:506,sy:294,ex:358,ey:120},{node:this.sun3,sx:508,sy:296,ex:350,ey:150},{node:this.sun4,sx:512,sy:314,ex:268,ey:148},{node:this.sun5,sx:510,sy:296,ex:336,ey:184},{node:this.sun6,sx:498,sy:292,ex:310,ey:210},{node:this.sun7,sx:484,sy:286,ex:294,ey:210},{node:this.sun8,sx:452,sy:292,ex:270,ey:198},{node:this.sun9,sx:510,sy:302,ex:314,ey:186},{node:this.sun10,sx:494,sy:310,ex:368,ey:258}].forEach(function(t){f(t)}),this.touchArea.on("touchstart",function(n){n.stopPropagation(),0===n.touch.getID()&&t.ready&&(t.isPlayingShootingAnimation||(c.stop=!0,cc.audioEngine.play(t.drawSound,!1,.5),h=!0,t.release=!1,e=n.getLocation().x,i=n.getLocation().y))},this),this.touchArea.on("touchmove",function(n){n.stopPropagation(),0===n.touch.getID()&&t.ready&&h&&(t.isPlayingShootingAnimation||(o=n.getLocation().x,a=n.getLocation().y,Math.atan2(a-i,o-e),s=(o-e)/4,u=(i-a)/20,s=Math.max(s,-38),s=Math.min(s,0),t.ik.offset.x=s,t.ik.offset.y=u,t.bow.offset.rotation=(i-a)/200,t.upperBody.offset.rotation=(i-a)/1e3,t.head.offset.rotation=(i-a)/1e3))},this);var d=0;this.touchArea.on("touchend",function(e){e.stopPropagation(),0===e.touch.getID()&&t.ready&&h&&(t.isPlayingShootingAnimation||(h=!1,t.isPlayingShootingAnimation=!0,Math.abs(s)>15?(cc.audioEngine.play(t.shotSound,!1,.5),t.release=!0,t.ik.offset.x-=2,t.ik.offset.y-=5,t.upperArm.offset.y=6,t.speed=Math.abs(s),t.shoting(),d=200):d=0,s=0,setTimeout(function(){cc.tween(t.upperArm.offset).to(.5,{y:0},{easing:"sineInOut"}).start(),cc.tween(t.bow.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.head.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.upperBody.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.ik.offset).to(.6,{x:0,y:0},{easing:"sineInOut"}).call(function(){t.isPlayingShootingAnimation=!1}).start()},d)))},this),this.touchArea.on("touchcancel",function(e){t.ready&&h&&(h=!1,Math.abs(s)>15?(cc.audioEngine.play(t.shotSound,!1,.5),t.release=!0,t.ik.offset.x-=2,t.ik.offset.y-=5,t.upperArm.offset.y=6,t.speed=Math.abs(s),t.shoting(),d=200):d=0,s=0,setTimeout(function(){cc.tween(t.upperArm.offset).to(.5,{y:0},{easing:"sineInOut"}).start(),cc.tween(t.bow.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.head.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.upperBody.offset).to(.5,{rotation:0},{easing:"sineInOut"}).start(),cc.tween(t.ik.offset).to(.6,{x:0,y:0},{easing:"sineInOut"}).call(function(){}).start()},d))},this),this.shotArrow=null,this.arrowAngle=0,this.gravity=.2,this.friction=.1,this.addArrow()},addArrow:function(){this.arrow=cc.instantiate(this.arrowPrefab),this.houyi.addChild(this.arrow),this.arrow.opacity=0,cc.tween(this.arrow).to(.5,{opacity:255},{easing:"sineOut"}).start(),this.gravitySpeed=0,this.speed=0},updateBow:function(){var t=this.bow.global.x,e=this.bow.global.y,i={x:0,y:0},n={x:0,y:0},r={x:0,y:0},o={x:0,y:0},a=this.bow.offset.rotation,s=60*Math.PI/180+a,u=-60*Math.PI/180+a;i.x=t+84*Math.cos(s),i.y=e+84*Math.sin(s),n.x=t+84*Math.cos(u),n.y=e+84*Math.sin(u),r.x=this.ik.global.x,r.y=this.ik.global.y,o.x=t+66*Math.cos(a),o.y=e+66*Math.sin(a),this.bowString.clear(),this.bowString.moveTo(i.x,i.y),this.release||this.bowString.lineTo(r.x,r.y),this.bowString.lineTo(n.x,n.y),this.bowString.stroke(),this.arrow&&(this.arrow.x=this.ik.global.x,this.arrow.y=this.ik.global.y,this.arrowAngle=Math.atan2(o.y-this.arrow.y,o.x-this.arrow.x),this.arrow.angle=180*this.arrowAngle/Math.PI)},updateArm:function(){this.arm.x=this.lowerArm.global.x,this.arm.y=this.lowerArm.global.y,this.arm.angle=180*this.lowerArm.global.rotation/Math.PI},shoting:function(){this.ready=!1,this.shotArrow=this.arrow,this.arrow=null,this.shotAngle=this.shotArrow.angle*Math.PI/180,this.shotArrow.anchorX=1,this.shotArrow.x+=.9*this.shotArrow.width*Math.cos(this.shotAngle),this.shotArrow.y+=.9*this.shotArrow.width*Math.sin(this.shotAngle),this.shotArrow.shoting=!0,this.shotSx=this.shotArrow.x,this.shotSy=this.shotArrow.y},shotingEnd:function(){this.shotArrow=null,this.ready=!0,this.addArrow()},updateArrow:function(){if(this.shotArrow&&this.shotArrow.shoting){if(this.shotArrow.hit)return this.shotingEnd(),void cc.audioEngine.play(this.hitSound,!1,.5);this.gravitySpeed+=this.gravity,this.speed-=this.friction,this.speed=Math.max(this.speed,0);var t=this.speed*Math.cos(this.shotAngle),e=this.speed*Math.sin(this.shotAngle)-this.gravitySpeed;this.shotArrow.x+=t,this.shotArrow.y+=e,this.shotArrow.angle=180*Math.atan2(e,t)/Math.PI;var i=Math.sqrt(Math.pow(this.shotSx-this.shotArrow.x,2)+Math.pow(this.shotSy-this.shotArrow.y,2)),n=1-i/2e3,r=255-i/8;this.shotArrow.scale=n,this.shotArrow.opacity=r,(this.shotArrow.x>this.ww/2-this.heroX||this.shotArrow.y<-(this.heroY+this.wh/2+100)||this.shotArrow.y>this.wh/2-this.heroY+100)&&(this.shotArrow.destroy(),this.shotingEnd())}},update:function(t){this.updateBow(),this.updateArm(),this.updateArrow(),this._armature.invalidUpdate()}}),cc._RF.pop()},{"../../../common/scripts/Ani":"Ani",gsap:2}],pageui:[function(t,e,i){"use strict";cc._RF.push(e,"912c6hl1X1DV4/gKUDDTfN2","pageui");var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var o=t("gsap"),a=cc._decorator,s=a.ccclass,u=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.homeBtn=null,e}return n(e,t),e.prototype.onLoad=function(){this.homeBtn.opacity=0,this.homeBtn.x=-cc.winSize.width/2+15,this.homeBtn.y=cc.winSize.height/2-15,this.homeBtn.scale=this.lerpGlobalScale(cc.winSize.width/cc.winSize.height)},e.prototype.start=function(){o.default.to(this.homeBtn,{opacity:255,duration:.8,ease:"none"})},e.prototype.lerpGlobalScale=function(t){var e=.36092396535129934;return e*t+.21798604427333967},r([u(cc.Node)],e.prototype,"homeBtn",void 0),e=r([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{gsap:2}],prefabPool:[function(t,e,i){"use strict";cc._RF.push(e,"26cebzkFyZJGL3fpySeRHtv","prefabPool"),Object.defineProperty(i,"__esModule",{value:!0}),i.prefabPool={pointIndicator:null,sliderIndicator:null,audioOptionSqueeze:null,audioOptionSelect:null},cc._RF.pop()},{}],utils:[function(t,e,i){"use strict";function n(t,e,i,n){var r=(e.y-t.y)*(n.x-i.x)-(t.x-e.x)*(i.y-n.y);if(0==r)return!1;var o=((e.x-t.x)*(n.x-i.x)*(i.y-t.y)+(e.y-t.y)*(n.x-i.x)*t.x-(n.y-i.y)*(e.x-t.x)*i.x)/r,a=-((e.y-t.y)*(n.y-i.y)*(i.x-t.x)+(e.x-t.x)*(n.y-i.y)*t.y-(n.x-i.x)*(e.y-t.y)*i.y)/r;return(o-t.x)*(o-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(o-i.x)*(o-n.x)<=0&&(a-i.y)*(a-n.y)<=0&&{x:o,y:a}}cc._RF.push(e,"dbc2c915PdKsY48U1eZXOZD","utils"),Object.defineProperty(i,"__esModule",{value:!0}),i.utils={flipAreaWidth:200,flipAreaHeight:150,inFlipArea:function(t){return!(t.y>this.flipAreaHeight)&&!(t.x>this.flipAreaWidth&&t.x<cc.winSize.width-this.flipAreaWidth)},getBlankSpriteFrame:function(){if(this.blankSpriteFrame)return this.blankSpriteFrame;cc.log("\u6b63\u5728\u521b\u5efa\u900f\u660e\u8d34\u56fe");var t=Math.round(cc.winSize.width),e=Math.round(cc.winSize.height),i=new Uint8Array(t*e*4),n=new cc.Texture2D;return n.initWithData(i,32,t,e),this.blankSpriteFrame=new cc.SpriteFrame,this.blankSpriteFrame.setTexture(n),this.blankSpriteFrame}},i.lerp=function(t,e,i,n,r){return(t-e)*(r-n)/(i-e)+n},i.isContain=function(t,e){var i=0,r={x:e.x+1e5,y:e.y};return t.forEach(function(t,o,a){o<a.length&&(n(a[o%a.length],a[(o+1)%a.length],e,r)&&i++)}),i%2!=0&&i>0},i.getAngle=function(t,e){if("object"==typeof t&&"object"==typeof e){var i,n=t.x*e.y-e.x*t.y>0?1:-1,r=this.getLength(t)*this.getLength(e);return 0===r?0:((i=(t.x*e.x+t.y*e.y)/r)>1&&(i=1),i<-1&&(i=-1),Math.acos(i)*n*180/Math.PI)}console.error("getAngle error!")},i.getVector=function(t,e){if("object"==typeof t&&"object"==typeof e)return{x:Math.round(t.x-e.x),y:Math.round(t.y-e.y)};console.error("getvector error!")},i.getLength=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},cc._RF.pop()},{}]},{},["arrow_page11","houyi_db_page11","hysr_page11","Ani","Book","BookWrap","BtmDialog","CloudDialog","Dialog","LoadManager","Loader","MyMath","MyTools","NativeUtils","Page","TextureCamera","Tip","pageui","prefabPool","utils"]);